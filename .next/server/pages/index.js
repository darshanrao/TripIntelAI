/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/index";
exports.ids = ["pages/index"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.js\");\n/* harmony import */ var _pages_index_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/index.js */ \"./pages/index.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_index_js__WEBPACK_IMPORTED_MODULE_5__]);\n_pages_index_js__WEBPACK_IMPORTED_MODULE_5__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_index_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/index\",\n        pathname: \"/\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _pages_index_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZpbmRleC5qcyZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUM2QztBQUM3QztBQUNBLGlFQUFlLHdFQUFLLENBQUMsNENBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsNENBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsNENBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsNENBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLDRDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLDRDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsNENBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsNENBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsNENBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwLWludGVsLWFpLz8xNDNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgYXBwIGFuZCBkb2N1bWVudCBtb2R1bGVzLlxuaW1wb3J0IERvY3VtZW50IGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2RvY3VtZW50XCI7XG5pbXBvcnQgQXBwIGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2FwcFwiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvaW5kZXguanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgY29tcG9uZW50IChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcImdldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbmV4cG9ydCBjb25zdCByZXBvcnRXZWJWaXRhbHMgPSBob2lzdCh1c2VybGFuZCwgXCJyZXBvcnRXZWJWaXRhbHNcIik7XG4vLyBSZS1leHBvcnQgbGVnYWN5IG1ldGhvZHMuXG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJ1bnN0YWJsZV9nZXRTdGF0aWNQcm9wc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhdGhzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhcmFtcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1BhcmFtc1wiKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclByb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wc1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTLFxuICAgICAgICBwYWdlOiBcIi9pbmRleFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgQXBwLFxuICAgICAgICBEb2N1bWVudFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/ChatInterface.js":
/*!*************************************!*\
  !*** ./components/ChatInterface.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! framer-motion */ \"framer-motion\");\n/* harmony import */ var _barrel_optimize_names_FaMicrophone_FaPaperPlane_FaStop_react_icons_fa__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=FaMicrophone,FaPaperPlane,FaStop!=!react-icons/fa */ \"./node_modules/react-icons/fa/index.esm.js\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../services/api */ \"./services/api.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([framer_motion__WEBPACK_IMPORTED_MODULE_2__]);\nframer_motion__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nconst TypingIndicator = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex items-center space-x-1 p-3 ml-2 bg-chat-ai rounded-lg max-w-xs shadow-sm typing-dots\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"h-2 w-2 bg-gray-400 rounded-full\"\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                lineNumber: 8,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"h-2 w-2 bg-gray-400 rounded-full\"\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                lineNumber: 9,\n                columnNumber: 5\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                className: \"h-2 w-2 bg-gray-400 rounded-full\"\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                lineNumber: 10,\n                columnNumber: 5\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n        lineNumber: 7,\n        columnNumber: 3\n    }, undefined);\nconst ChatInterface = ({ onSendMessage })=>{\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([\n        {\n            id: 1,\n            text: \"Hi there! I'm your AI travel assistant. Where would you like to go?\",\n            sender: \"ai\",\n            timestamp: new Date()\n        }\n    ]);\n    const [inputText, setInputText] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isRecording, setIsRecording] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const messageEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const chatContainerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const recognitionRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Initialize conversation when component mounts\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const initConversation = async ()=>{\n            try {\n                const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_3__.createConversation)();\n                setConversationId(response.conversation_id);\n            } catch (error) {\n                console.error(\"Failed to create conversation:\", error);\n            }\n        };\n        initConversation();\n    }, []);\n    // Speech recognition implementation\n    const startRecording = ()=>{\n        if (isRecording) return;\n        if (window.SpeechRecognition || window.webkitSpeechRecognition) {\n            const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;\n            recognitionRef.current = new SpeechRecognition();\n            recognitionRef.current.continuous = true;\n            recognitionRef.current.interimResults = true;\n            recognitionRef.current.lang = \"en-US\";\n            recognitionRef.current.onresult = (event)=>{\n                const transcript = Array.from(event.results).map((result)=>result[0]).map((result)=>result.transcript).join(\"\");\n                setInputText(transcript);\n            };\n            recognitionRef.current.onerror = (event)=>{\n                console.error(\"Speech recognition error\", event);\n                setIsRecording(false);\n            };\n            recognitionRef.current.onend = ()=>{\n                setIsRecording(false);\n            };\n            recognitionRef.current.start();\n            setIsRecording(true);\n        } else {\n            alert(\"Speech recognition is not supported in your browser.\");\n        }\n    };\n    const stopRecording = ()=>{\n        if (recognitionRef.current) {\n            recognitionRef.current.stop();\n        }\n        setIsRecording(false);\n    };\n    // Auto-scroll to bottom when messages change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        messageEndRef.current?.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    }, [\n        messages\n    ]);\n    const handleSendMessage = async ()=>{\n        if (inputText.trim() === \"\") return;\n        // Add user message\n        const newUserMessage = {\n            id: Date.now(),\n            text: inputText,\n            sender: \"user\",\n            timestamp: new Date()\n        };\n        setMessages((prev)=>[\n                ...prev,\n                newUserMessage\n            ]);\n        const userMessageText = inputText;\n        setInputText(\"\");\n        // Notify parent component\n        onSendMessage(userMessageText);\n        // Show typing indicator\n        setIsTyping(true);\n        try {\n            // Send message to backend\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_3__.sendChatMessage)(userMessageText, conversationId);\n            // Hide typing indicator\n            setIsTyping(false);\n            // Prepare response text - handle complex objects\n            let responseText = \"\";\n            if (response.response) {\n                if (typeof response.response === \"string\") {\n                    responseText = response.response;\n                } else {\n                    // It's an object, convert to readable text\n                    try {\n                        if (response.response.daily_itinerary) {\n                            const dailyItinerary = response.response.daily_itinerary;\n                            // Format itinerary days\n                            responseText = Object.keys(dailyItinerary).map((day)=>{\n                                const activities = dailyItinerary[day];\n                                return `Day ${day}:\\n${activities.map((a)=>`- ${a.time || \"\"} ${a.activity}`).join(\"\\n\")}`;\n                            }).join(\"\\n\\n\");\n                        } else if (response.response.trip_summary) {\n                            // Format trip summary\n                            const summary = response.response.trip_summary;\n                            responseText = `Trip to ${summary.destination} from ${summary.start_date} to ${summary.end_date}`;\n                        } else {\n                            // Fall back to JSON.stringify with formatting\n                            responseText = JSON.stringify(response.response, null, 2);\n                        }\n                    } catch (error) {\n                        // If we can't process it nicely, fall back to simple stringify\n                        responseText = JSON.stringify(response.response);\n                    }\n                }\n            } else if (response.itinerary) {\n                responseText = typeof response.itinerary === \"string\" ? response.itinerary : JSON.stringify(response.itinerary);\n            } else if (response.error) {\n                responseText = response.error;\n            } else {\n                responseText = \"I couldn't process that request. Can you try again?\";\n            }\n            // Add AI response to chat\n            const aiResponse = {\n                id: Date.now() + 1,\n                text: responseText,\n                sender: \"ai\",\n                timestamp: new Date()\n            };\n            setMessages((prev)=>[\n                    ...prev,\n                    aiResponse\n                ]);\n            // Update conversation ID if provided\n            if (response.conversation_id) {\n                setConversationId(response.conversation_id);\n            }\n        } catch (error) {\n            console.error(\"Error sending message:\", error);\n            // Hide typing indicator\n            setIsTyping(false);\n            // Add error message\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: Date.now() + 1,\n                        text: \"Sorry, I'm having trouble connecting to the server. Please try again later.\",\n                        sender: \"ai\",\n                        timestamp: new Date()\n                    }\n                ]);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full bg-gray-50\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-primary p-4 text-white shadow-sm\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                    className: \"text-xl font-semibold\",\n                    children: \"Travel Assistant\"\n                }, void 0, false, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                    lineNumber: 189,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                lineNumber: 188,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: chatContainerRef,\n                className: \"flex-1 p-4 overflow-y-auto\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"space-y-4\",\n                    children: [\n                        messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 20\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                transition: {\n                                    duration: 0.3\n                                },\n                                className: `flex ${message.sender === \"user\" ? \"justify-end\" : \"justify-start\"}`,\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: `\n                  max-w-xs rounded-lg p-3 shadow-sm chat-bubble\n                  ${message.sender === \"user\" ? \"bg-primary text-white rounded-br-none\" : \"bg-chat-ai rounded-bl-none\"}\n                `,\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm\",\n                                            children: message.text\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                            lineNumber: 215,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-xs mt-1 opacity-70\",\n                                            children: message.timestamp.toLocaleTimeString([], {\n                                                hour: \"2-digit\",\n                                                minute: \"2-digit\"\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                            lineNumber: 216,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                    lineNumber: 206,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, message.id, false, {\n                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                lineNumber: 199,\n                                columnNumber: 13\n                            }, undefined)),\n                        isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex justify-start\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TypingIndicator, {}, void 0, false, {\n                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                lineNumber: 225,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                            lineNumber: 224,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            ref: messageEndRef\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                            lineNumber: 229,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                    lineNumber: 197,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                lineNumber: 193,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"border-t border-gray-200 p-3 bg-white\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                            type: \"text\",\n                            value: inputText,\n                            onChange: (e)=>setInputText(e.target.value),\n                            onKeyPress: (e)=>e.key === \"Enter\" && handleSendMessage(),\n                            placeholder: \"Type your message...\",\n                            className: \"flex-1 rounded-full border border-gray-300 py-2 px-4 focus:outline-none focus:ring-2 focus:ring-primary\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                            lineNumber: 236,\n                            columnNumber: 11\n                        }, undefined),\n                        isRecording ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: stopRecording,\n                            className: \"bg-red-500 text-white p-3 rounded-full shadow-md hover:bg-red-600 transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaMicrophone_FaPaperPlane_FaStop_react_icons_fa__WEBPACK_IMPORTED_MODULE_4__.FaStop, {}, void 0, false, {\n                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                lineNumber: 250,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                            lineNumber: 246,\n                            columnNumber: 13\n                        }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: startRecording,\n                            className: \"bg-gray-200 text-gray-600 p-3 rounded-full shadow-md hover:bg-gray-300 transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaMicrophone_FaPaperPlane_FaStop_react_icons_fa__WEBPACK_IMPORTED_MODULE_4__.FaMicrophone, {}, void 0, false, {\n                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                lineNumber: 257,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                            lineNumber: 253,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: handleSendMessage,\n                            className: \"bg-primary text-white p-3 rounded-full shadow-md hover:bg-blue-600 transition-colors\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaMicrophone_FaPaperPlane_FaStop_react_icons_fa__WEBPACK_IMPORTED_MODULE_4__.FaPaperPlane, {}, void 0, false, {\n                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                                lineNumber: 265,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                            lineNumber: 261,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                    lineNumber: 235,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n                lineNumber: 234,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ChatInterface.js\",\n        lineNumber: 186,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ChatInterface);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUU7Ozs7O3dCQXVCbEJTLDBCQUNDLDhEQUFDaEI7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNGOzs7Ozs7Ozs7O3NDQUlMLDhEQUFDQzs0QkFBSStFLEtBQUszRDs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBS2QsOERBQUNwQjtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDMEY7NEJBQ0NDLE1BQUs7NEJBQ0xDLE9BQU9qRjs0QkFDUGtGLFVBQVUsQ0FBQ0MsSUFBTWxGLGFBQWFrRixFQUFFQyxNQUFNLENBQUNILEtBQUs7NEJBQzVDSSxZQUFZLENBQUNGLElBQU1BLEVBQUVHLEdBQUcsS0FBSyxXQUFXN0M7NEJBQ3hDOEMsYUFBWTs0QkFDWmxHLFdBQVU7Ozs7Ozt3QkFHWGEsNEJBQ0MsOERBQUNzRjs0QkFDQ0MsU0FBU3BEOzRCQUNUaEQsV0FBVTtzQ0FFViw0RUFBQ0wsMEdBQU1BOzs7Ozs7Ozs7c0RBR1QsOERBQUN3Rzs0QkFDQ0MsU0FBU3pFOzRCQUNUM0IsV0FBVTtzQ0FFViw0RUFBQ1AsZ0hBQVlBOzs7Ozs7Ozs7O3NDQUlqQiw4REFBQzBHOzRCQUNDQyxTQUFTaEQ7NEJBQ1RwRCxXQUFVO3NDQUVWLDRFQUFDTixnSEFBWUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQU16QjtBQUVBLGlFQUFlUSxhQUFhQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdHJpcC1pbnRlbC1haS8uL2NvbXBvbmVudHMvQ2hhdEludGVyZmFjZS5qcz8yNGQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1vdGlvbiB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IHsgRmFNaWNyb3Bob25lLCBGYVBhcGVyUGxhbmUsIEZhU3RvcCB9IGZyb20gJ3JlYWN0LWljb25zL2ZhJztcbmltcG9ydCB7IHNlbmRDaGF0TWVzc2FnZSwgY3JlYXRlQ29udmVyc2F0aW9uIH0gZnJvbSAnLi4vc2VydmljZXMvYXBpJztcblxuY29uc3QgVHlwaW5nSW5kaWNhdG9yID0gKCkgPT4gKFxuICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMSBwLTMgbWwtMiBiZy1jaGF0LWFpIHJvdW5kZWQtbGcgbWF4LXcteHMgc2hhZG93LXNtIHR5cGluZy1kb3RzXCI+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiaC0yIHctMiBiZy1ncmF5LTQwMCByb3VuZGVkLWZ1bGxcIj48L3NwYW4+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiaC0yIHctMiBiZy1ncmF5LTQwMCByb3VuZGVkLWZ1bGxcIj48L3NwYW4+XG4gICAgPHNwYW4gY2xhc3NOYW1lPVwiaC0yIHctMiBiZy1ncmF5LTQwMCByb3VuZGVkLWZ1bGxcIj48L3NwYW4+XG4gIDwvZGl2PlxuKTtcblxuY29uc3QgQ2hhdEludGVyZmFjZSA9ICh7IG9uU2VuZE1lc3NhZ2UgfSkgPT4ge1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlKFtcbiAgICB7IGlkOiAxLCB0ZXh0OiBcIkhpIHRoZXJlISBJJ20geW91ciBBSSB0cmF2ZWwgYXNzaXN0YW50LiBXaGVyZSB3b3VsZCB5b3UgbGlrZSB0byBnbz9cIiwgc2VuZGVyOiAnYWknLCB0aW1lc3RhbXA6IG5ldyBEYXRlKCkgfVxuICBdKTtcbiAgY29uc3QgW2lucHV0VGV4dCwgc2V0SW5wdXRUZXh0XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW2lzUmVjb3JkaW5nLCBzZXRJc1JlY29yZGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtpc1R5cGluZywgc2V0SXNUeXBpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY29udmVyc2F0aW9uSWQsIHNldENvbnZlcnNhdGlvbklkXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBtZXNzYWdlRW5kUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjaGF0Q29udGFpbmVyUmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCByZWNvZ25pdGlvblJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBJbml0aWFsaXplIGNvbnZlcnNhdGlvbiB3aGVuIGNvbXBvbmVudCBtb3VudHNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBpbml0Q29udmVyc2F0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjcmVhdGVDb252ZXJzYXRpb24oKTtcbiAgICAgICAgc2V0Q29udmVyc2F0aW9uSWQocmVzcG9uc2UuY29udmVyc2F0aW9uX2lkKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgY29udmVyc2F0aW9uOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIFxuICAgIGluaXRDb252ZXJzYXRpb24oKTtcbiAgfSwgW10pO1xuXG4gIC8vIFNwZWVjaCByZWNvZ25pdGlvbiBpbXBsZW1lbnRhdGlvblxuICBjb25zdCBzdGFydFJlY29yZGluZyA9ICgpID0+IHtcbiAgICBpZiAoaXNSZWNvcmRpbmcpIHJldHVybjtcbiAgICBcbiAgICBpZiAod2luZG93LlNwZWVjaFJlY29nbml0aW9uIHx8IHdpbmRvdy53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbikge1xuICAgICAgY29uc3QgU3BlZWNoUmVjb2duaXRpb24gPSB3aW5kb3cuU3BlZWNoUmVjb2duaXRpb24gfHwgd2luZG93LndlYmtpdFNwZWVjaFJlY29nbml0aW9uO1xuICAgICAgcmVjb2duaXRpb25SZWYuY3VycmVudCA9IG5ldyBTcGVlY2hSZWNvZ25pdGlvbigpO1xuICAgICAgXG4gICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50LmNvbnRpbnVvdXMgPSB0cnVlO1xuICAgICAgcmVjb2duaXRpb25SZWYuY3VycmVudC5pbnRlcmltUmVzdWx0cyA9IHRydWU7XG4gICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50LmxhbmcgPSAnZW4tVVMnO1xuICAgICAgXG4gICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50Lm9ucmVzdWx0ID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHRyYW5zY3JpcHQgPSBBcnJheS5mcm9tKGV2ZW50LnJlc3VsdHMpXG4gICAgICAgICAgLm1hcChyZXN1bHQgPT4gcmVzdWx0WzBdKVxuICAgICAgICAgIC5tYXAocmVzdWx0ID0+IHJlc3VsdC50cmFuc2NyaXB0KVxuICAgICAgICAgIC5qb2luKCcnKTtcbiAgICAgICAgXG4gICAgICAgIHNldElucHV0VGV4dCh0cmFuc2NyaXB0KTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHJlY29nbml0aW9uUmVmLmN1cnJlbnQub25lcnJvciA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdTcGVlY2ggcmVjb2duaXRpb24gZXJyb3InLCBldmVudCk7XG4gICAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHJlY29nbml0aW9uUmVmLmN1cnJlbnQub25lbmQgPSAoKSA9PiB7XG4gICAgICAgIHNldElzUmVjb3JkaW5nKGZhbHNlKTtcbiAgICAgIH07XG4gICAgICBcbiAgICAgIHJlY29nbml0aW9uUmVmLmN1cnJlbnQuc3RhcnQoKTtcbiAgICAgIHNldElzUmVjb3JkaW5nKHRydWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhbGVydCgnU3BlZWNoIHJlY29nbml0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4geW91ciBicm93c2VyLicpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzdG9wUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgIGlmIChyZWNvZ25pdGlvblJlZi5jdXJyZW50KSB7XG4gICAgICByZWNvZ25pdGlvblJlZi5jdXJyZW50LnN0b3AoKTtcbiAgICB9XG4gICAgc2V0SXNSZWNvcmRpbmcoZmFsc2UpO1xuICB9O1xuXG4gIC8vIEF1dG8tc2Nyb2xsIHRvIGJvdHRvbSB3aGVuIG1lc3NhZ2VzIGNoYW5nZVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIG1lc3NhZ2VFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gIH0sIFttZXNzYWdlc10pO1xuXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChpbnB1dFRleHQudHJpbSgpID09PSAnJykgcmV0dXJuO1xuICAgIFxuICAgIC8vIEFkZCB1c2VyIG1lc3NhZ2VcbiAgICBjb25zdCBuZXdVc2VyTWVzc2FnZSA9IHtcbiAgICAgIGlkOiBEYXRlLm5vdygpLFxuICAgICAgdGV4dDogaW5wdXRUZXh0LFxuICAgICAgc2VuZGVyOiAndXNlcicsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICB9O1xuICAgIFxuICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIG5ld1VzZXJNZXNzYWdlXSk7XG4gICAgY29uc3QgdXNlck1lc3NhZ2VUZXh0ID0gaW5wdXRUZXh0O1xuICAgIHNldElucHV0VGV4dCgnJyk7XG4gICAgXG4gICAgLy8gTm90aWZ5IHBhcmVudCBjb21wb25lbnRcbiAgICBvblNlbmRNZXNzYWdlKHVzZXJNZXNzYWdlVGV4dCk7XG4gICAgXG4gICAgLy8gU2hvdyB0eXBpbmcgaW5kaWNhdG9yXG4gICAgc2V0SXNUeXBpbmcodHJ1ZSk7XG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIFNlbmQgbWVzc2FnZSB0byBiYWNrZW5kXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRDaGF0TWVzc2FnZSh1c2VyTWVzc2FnZVRleHQsIGNvbnZlcnNhdGlvbklkKTtcbiAgICAgIFxuICAgICAgLy8gSGlkZSB0eXBpbmcgaW5kaWNhdG9yXG4gICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIFByZXBhcmUgcmVzcG9uc2UgdGV4dCAtIGhhbmRsZSBjb21wbGV4IG9iamVjdHNcbiAgICAgIGxldCByZXNwb25zZVRleHQgPSBcIlwiO1xuICAgICAgaWYgKHJlc3BvbnNlLnJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2UucmVzcG9uc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2UucmVzcG9uc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSXQncyBhbiBvYmplY3QsIGNvbnZlcnQgdG8gcmVhZGFibGUgdGV4dFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzcG9uc2UuZGFpbHlfaXRpbmVyYXJ5KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGRhaWx5SXRpbmVyYXJ5ID0gcmVzcG9uc2UucmVzcG9uc2UuZGFpbHlfaXRpbmVyYXJ5O1xuICAgICAgICAgICAgICAvLyBGb3JtYXQgaXRpbmVyYXJ5IGRheXNcbiAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0ID0gT2JqZWN0LmtleXMoZGFpbHlJdGluZXJhcnkpLm1hcChkYXkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXRpZXMgPSBkYWlseUl0aW5lcmFyeVtkYXldO1xuICAgICAgICAgICAgICAgIHJldHVybiBgRGF5ICR7ZGF5fTpcXG4ke2FjdGl2aXRpZXMubWFwKGEgPT4gYC0gJHthLnRpbWUgfHwgJyd9ICR7YS5hY3Rpdml0eX1gKS5qb2luKCdcXG4nKX1gO1xuICAgICAgICAgICAgICB9KS5qb2luKCdcXG5cXG4nKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UucmVzcG9uc2UudHJpcF9zdW1tYXJ5KSB7XG4gICAgICAgICAgICAgIC8vIEZvcm1hdCB0cmlwIHN1bW1hcnlcbiAgICAgICAgICAgICAgY29uc3Qgc3VtbWFyeSA9IHJlc3BvbnNlLnJlc3BvbnNlLnRyaXBfc3VtbWFyeTtcbiAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0ID0gYFRyaXAgdG8gJHtzdW1tYXJ5LmRlc3RpbmF0aW9ufSBmcm9tICR7c3VtbWFyeS5zdGFydF9kYXRlfSB0byAke3N1bW1hcnkuZW5kX2RhdGV9YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEZhbGwgYmFjayB0byBKU09OLnN0cmluZ2lmeSB3aXRoIGZvcm1hdHRpbmdcbiAgICAgICAgICAgICAgcmVzcG9uc2VUZXh0ID0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UucmVzcG9uc2UsIG51bGwsIDIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBjYW4ndCBwcm9jZXNzIGl0IG5pY2VseSwgZmFsbCBiYWNrIHRvIHNpbXBsZSBzdHJpbmdpZnlcbiAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLnJlc3BvbnNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuaXRpbmVyYXJ5KSB7XG4gICAgICAgIHJlc3BvbnNlVGV4dCA9IHR5cGVvZiByZXNwb25zZS5pdGluZXJhcnkgPT09ICdzdHJpbmcnIFxuICAgICAgICAgID8gcmVzcG9uc2UuaXRpbmVyYXJ5IFxuICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuaXRpbmVyYXJ5KTtcbiAgICAgIH0gZWxzZSBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2UuZXJyb3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNwb25zZVRleHQgPSBcIkkgY291bGRuJ3QgcHJvY2VzcyB0aGF0IHJlcXVlc3QuIENhbiB5b3UgdHJ5IGFnYWluP1wiO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBZGQgQUkgcmVzcG9uc2UgdG8gY2hhdFxuICAgICAgY29uc3QgYWlSZXNwb25zZSA9IHtcbiAgICAgICAgaWQ6IERhdGUubm93KCkgKyAxLFxuICAgICAgICB0ZXh0OiByZXNwb25zZVRleHQsXG4gICAgICAgIHNlbmRlcjogJ2FpJyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgICAgXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCBhaVJlc3BvbnNlXSk7XG4gICAgICBcbiAgICAgIC8vIFVwZGF0ZSBjb252ZXJzYXRpb24gSUQgaWYgcHJvdmlkZWRcbiAgICAgIGlmIChyZXNwb25zZS5jb252ZXJzYXRpb25faWQpIHtcbiAgICAgICAgc2V0Q29udmVyc2F0aW9uSWQocmVzcG9uc2UuY29udmVyc2F0aW9uX2lkKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgIFxuICAgICAgLy8gSGlkZSB0eXBpbmcgaW5kaWNhdG9yXG4gICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICBcbiAgICAgIC8vIEFkZCBlcnJvciBtZXNzYWdlXG4gICAgICBzZXRNZXNzYWdlcyhwcmV2ID0+IFsuLi5wcmV2LCB7XG4gICAgICAgIGlkOiBEYXRlLm5vdygpICsgMSxcbiAgICAgICAgdGV4dDogXCJTb3JyeSwgSSdtIGhhdmluZyB0cm91YmxlIGNvbm5lY3RpbmcgdG8gdGhlIHNlcnZlci4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcbiAgICAgICAgc2VuZGVyOiAnYWknLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgIH1dKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1mdWxsIGJnLWdyYXktNTBcIj5cbiAgICAgIHsvKiBDaGF0IGhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHJpbWFyeSBwLTQgdGV4dC13aGl0ZSBzaGFkb3ctc21cIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZFwiPlRyYXZlbCBBc3Npc3RhbnQ8L2gyPlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBNZXNzYWdlcyBjb250YWluZXIgKi99XG4gICAgICA8ZGl2IFxuICAgICAgICByZWY9e2NoYXRDb250YWluZXJSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBwLTQgb3ZlcmZsb3cteS1hdXRvXCJcbiAgICAgID5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiAoXG4gICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWR9XG4gICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cbiAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMyB9fVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS5zZW5kZXIgPT09ICd1c2VyJyA/ICdqdXN0aWZ5LWVuZCcgOiAnanVzdGlmeS1zdGFydCd9YH1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGRpdiBcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICAgIG1heC13LXhzIHJvdW5kZWQtbGcgcC0zIHNoYWRvdy1zbSBjaGF0LWJ1YmJsZVxuICAgICAgICAgICAgICAgICAgJHttZXNzYWdlLnNlbmRlciA9PT0gJ3VzZXInIFxuICAgICAgICAgICAgICAgICAgICA/ICdiZy1wcmltYXJ5IHRleHQtd2hpdGUgcm91bmRlZC1ici1ub25lJyBcbiAgICAgICAgICAgICAgICAgICAgOiAnYmctY2hhdC1haSByb3VuZGVkLWJsLW5vbmUnXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc21cIj57bWVzc2FnZS50ZXh0fTwvcD5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTEgb3BhY2l0eS03MFwiPlxuICAgICAgICAgICAgICAgICAge21lc3NhZ2UudGltZXN0YW1wLnRvTG9jYWxlVGltZVN0cmluZyhbXSwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pfVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgKSl9XG4gICAgICAgICAgXG4gICAgICAgICAge2lzVHlwaW5nICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LXN0YXJ0XCI+XG4gICAgICAgICAgICAgIDxUeXBpbmdJbmRpY2F0b3IgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VFbmRSZWZ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICBcbiAgICAgIHsvKiBJbnB1dCBhcmVhICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS0yMDAgcC0zIGJnLXdoaXRlXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17aW5wdXRUZXh0fVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRJbnB1dFRleHQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgb25LZXlQcmVzcz17KGUpID0+IGUua2V5ID09PSAnRW50ZXInICYmIGhhbmRsZVNlbmRNZXNzYWdlKCl9XG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGUgeW91ciBtZXNzYWdlLi4uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSByb3VuZGVkLWZ1bGwgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBweS0yIHB4LTQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXByaW1hcnlcIlxuICAgICAgICAgIC8+XG4gICAgICAgICAgXG4gICAgICAgICAge2lzUmVjb3JkaW5nID8gKFxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17c3RvcFJlY29yZGluZ31cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHAtMyByb3VuZGVkLWZ1bGwgc2hhZG93LW1kIGhvdmVyOmJnLXJlZC02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RmFTdG9wIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgb25DbGljaz17c3RhcnRSZWNvcmRpbmd9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYXktMjAwIHRleHQtZ3JheS02MDAgcC0zIHJvdW5kZWQtZnVsbCBzaGFkb3ctbWQgaG92ZXI6YmctZ3JheS0zMDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8RmFNaWNyb3Bob25lIC8+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTZW5kTWVzc2FnZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXByaW1hcnkgdGV4dC13aGl0ZSBwLTMgcm91bmRlZC1mdWxsIHNoYWRvdy1tZCBob3ZlcjpiZy1ibHVlLTYwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEZhUGFwZXJQbGFuZSAvPlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQ2hhdEludGVyZmFjZTsgIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlUmVmIiwidXNlRWZmZWN0IiwibW90aW9uIiwiRmFNaWNyb3Bob25lIiwiRmFQYXBlclBsYW5lIiwiRmFTdG9wIiwic2VuZENoYXRNZXNzYWdlIiwiY3JlYXRlQ29udmVyc2F0aW9uIiwiVHlwaW5nSW5kaWNhdG9yIiwiZGl2IiwiY2xhc3NOYW1lIiwic3BhbiIsIkNoYXRJbnRlcmZhY2UiLCJvblNlbmRNZXNzYWdlIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsImlkIiwidGV4dCIsInNlbmRlciIsInRpbWVzdGFtcCIsIkRhdGUiLCJpbnB1dFRleHQiLCJzZXRJbnB1dFRleHQiLCJpc1JlY29yZGluZyIsInNldElzUmVjb3JkaW5nIiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsImNvbnZlcnNhdGlvbklkIiwic2V0Q29udmVyc2F0aW9uSWQiLCJtZXNzYWdlRW5kUmVmIiwiY2hhdENvbnRhaW5lclJlZiIsInJlY29nbml0aW9uUmVmIiwiaW5pdENvbnZlcnNhdGlvbiIsInJlc3BvbnNlIiwiY29udmVyc2F0aW9uX2lkIiwiZXJyb3IiLCJjb25zb2xlIiwic3RhcnRSZWNvcmRpbmciLCJ3aW5kb3ciLCJTcGVlY2hSZWNvZ25pdGlvbiIsIndlYmtpdFNwZWVjaFJlY29nbml0aW9uIiwiY3VycmVudCIsImNvbnRpbnVvdXMiLCJpbnRlcmltUmVzdWx0cyIsImxhbmciLCJvbnJlc3VsdCIsImV2ZW50IiwidHJhbnNjcmlwdCIsIkFycmF5IiwiZnJvbSIsInJlc3VsdHMiLCJtYXAiLCJyZXN1bHQiLCJqb2luIiwib25lcnJvciIsIm9uZW5kIiwic3RhcnQiLCJhbGVydCIsInN0b3BSZWNvcmRpbmciLCJzdG9wIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImhhbmRsZVNlbmRNZXNzYWdlIiwidHJpbSIsIm5ld1VzZXJNZXNzYWdlIiwibm93IiwicHJldiIsInVzZXJNZXNzYWdlVGV4dCIsInJlc3BvbnNlVGV4dCIsImRhaWx5X2l0aW5lcmFyeSIsImRhaWx5SXRpbmVyYXJ5IiwiT2JqZWN0Iiwia2V5cyIsImRheSIsImFjdGl2aXRpZXMiLCJhIiwidGltZSIsImFjdGl2aXR5IiwidHJpcF9zdW1tYXJ5Iiwic3VtbWFyeSIsImRlc3RpbmF0aW9uIiwic3RhcnRfZGF0ZSIsImVuZF9kYXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsIml0aW5lcmFyeSIsImFpUmVzcG9uc2UiLCJoMiIsInJlZiIsIm1lc3NhZ2UiLCJpbml0aWFsIiwib3BhY2l0eSIsInkiLCJhbmltYXRlIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwicCIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9uS2V5UHJlc3MiLCJrZXkiLCJwbGFjZWhvbGRlciIsImJ1dHRvbiIsIm9uQ2xpY2siXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/ChatInterface.js\n");

/***/ }),

/***/ "./components/ErrorBoundary.js":
/*!*************************************!*\
  !*** ./components/ErrorBoundary.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\nclass ErrorBoundary extends (react__WEBPACK_IMPORTED_MODULE_1___default().Component) {\n    constructor(props){\n        super(props);\n        this.state = {\n            hasError: false,\n            error: null,\n            errorInfo: null\n        };\n    }\n    static getDerivedStateFromError(error) {\n        // Update state so the next render will show the fallback UI\n        return {\n            hasError: true\n        };\n    }\n    componentDidCatch(error, errorInfo) {\n        // Log error to an error reporting service\n        console.error(\"Error caught by ErrorBoundary:\", error, errorInfo);\n        this.setState({\n            error: error,\n            errorInfo: errorInfo\n        });\n    }\n    render() {\n        if (this.state.hasError) {\n            // Render fallback UI\n            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col items-center justify-center min-h-screen p-6 bg-gray-100\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white p-8 rounded-lg shadow-md max-w-md w-full\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-2xl font-bold text-red-600 mb-4\",\n                            children: \"Something went wrong\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                            lineNumber: 29,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-700 mb-4\",\n                            children: \"We're sorry, but there was an error in the application. Please try refreshing the page.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                            lineNumber: 30,\n                            columnNumber: 13\n                        }, this),\n                        this.state.error && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mt-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-sm text-gray-500 font-semibold\",\n                                    children: \"Error details:\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                                    lineNumber: 35,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"pre\", {\n                                    className: \"mt-2 p-4 bg-gray-100 rounded text-xs overflow-auto max-h-48\",\n                                    children: [\n                                        this.state.error.toString(),\n                                        this.state.errorInfo && this.state.errorInfo.componentStack\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                                    lineNumber: 36,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                            lineNumber: 34,\n                            columnNumber: 15\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            className: \"mt-6 w-full bg-primary text-white py-2 px-4 rounded hover:bg-blue-600 transition-colors\",\n                            onClick: ()=>window.location.reload(),\n                            children: \"Refresh Page\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                            lineNumber: 42,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                    lineNumber: 28,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ErrorBoundary.js\",\n                lineNumber: 27,\n                columnNumber: 9\n            }, this);\n        }\n        return this.props.children;\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ErrorBoundary);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0Vycm9yQm91bmRhcnkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBCO0FBRTFCLE1BQU1DLHNCQUFzQkQsd0RBQWU7SUFDekNHLFlBQVlDLEtBQUssQ0FBRTtRQUNqQixLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDQyxLQUFLLEdBQUc7WUFBRUMsVUFBVTtZQUFPQyxPQUFPO1lBQU1DLFdBQVc7UUFBSztJQUMvRDtJQUVBLE9BQU9DLHlCQUF5QkYsS0FBSyxFQUFFO1FBQ3JDLDREQUE0RDtRQUM1RCxPQUFPO1lBQUVELFVBQVU7UUFBSztJQUMxQjtJQUVBSSxrQkFBa0JILEtBQUssRUFBRUMsU0FBUyxFQUFFO1FBQ2xDLDBDQUEwQztRQUMxQ0csUUFBUUosS0FBSyxDQUFDLGtDQUFrQ0EsT0FBT0M7UUFDdkQsSUFBSSxDQUFDSSxRQUFRLENBQUM7WUFDWkwsT0FBT0E7WUFDUEMsV0FBV0E7UUFDYjtJQUNGO0lBRUFLLFNBQVM7UUFDUCxJQUFJLElBQUksQ0FBQ1IsS0FBSyxDQUFDQyxRQUFRLEVBQUU7WUFDdkIscUJBQXFCO1lBQ3JCLHFCQUNFLDhEQUFDUTtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDQzs0QkFBR0QsV0FBVTtzQ0FBdUM7Ozs7OztzQ0FDckQsOERBQUNFOzRCQUFFRixXQUFVO3NDQUFxQjs7Ozs7O3dCQUdqQyxJQUFJLENBQUNWLEtBQUssQ0FBQ0UsS0FBSyxrQkFDZiw4REFBQ087NEJBQUlDLFdBQVU7OzhDQUNiLDhEQUFDRTtvQ0FBRUYsV0FBVTs4Q0FBc0M7Ozs7Ozs4Q0FDbkQsOERBQUNHO29DQUFJSCxXQUFVOzt3Q0FDWixJQUFJLENBQUNWLEtBQUssQ0FBQ0UsS0FBSyxDQUFDWSxRQUFRO3dDQUN6QixJQUFJLENBQUNkLEtBQUssQ0FBQ0csU0FBUyxJQUFJLElBQUksQ0FBQ0gsS0FBSyxDQUFDRyxTQUFTLENBQUNZLGNBQWM7Ozs7Ozs7Ozs7Ozs7c0NBSWxFLDhEQUFDQzs0QkFDQ04sV0FBVTs0QkFDVk8sU0FBUyxJQUFNQyxPQUFPQyxRQUFRLENBQUNDLE1BQU07c0NBQ3RDOzs7Ozs7Ozs7Ozs7Ozs7OztRQU1UO1FBRUEsT0FBTyxJQUFJLENBQUNyQixLQUFLLENBQUNzQixRQUFRO0lBQzVCO0FBQ0Y7QUFFQSxpRUFBZXpCLGFBQWFBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwLWludGVsLWFpLy4vY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5LmpzP2M5YWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY2xhc3MgRXJyb3JCb3VuZGFyeSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7IGhhc0Vycm9yOiBmYWxzZSwgZXJyb3I6IG51bGwsIGVycm9ySW5mbzogbnVsbCB9O1xuICB9XG5cbiAgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcihlcnJvcikge1xuICAgIC8vIFVwZGF0ZSBzdGF0ZSBzbyB0aGUgbmV4dCByZW5kZXIgd2lsbCBzaG93IHRoZSBmYWxsYmFjayBVSVxuICAgIHJldHVybiB7IGhhc0Vycm9yOiB0cnVlIH07XG4gIH1cblxuICBjb21wb25lbnREaWRDYXRjaChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgLy8gTG9nIGVycm9yIHRvIGFuIGVycm9yIHJlcG9ydGluZyBzZXJ2aWNlXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2F1Z2h0IGJ5IEVycm9yQm91bmRhcnk6JywgZXJyb3IsIGVycm9ySW5mbyk7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBlcnJvcjogZXJyb3IsXG4gICAgICBlcnJvckluZm86IGVycm9ySW5mb1xuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGlmICh0aGlzLnN0YXRlLmhhc0Vycm9yKSB7XG4gICAgICAvLyBSZW5kZXIgZmFsbGJhY2sgVUlcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbWluLWgtc2NyZWVuIHAtNiBiZy1ncmF5LTEwMFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcC04IHJvdW5kZWQtbGcgc2hhZG93LW1kIG1heC13LW1kIHctZnVsbFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LXJlZC02MDAgbWItNFwiPlNvbWV0aGluZyB3ZW50IHdyb25nPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDAgbWItNFwiPlxuICAgICAgICAgICAgICBXZSdyZSBzb3JyeSwgYnV0IHRoZXJlIHdhcyBhbiBlcnJvciBpbiB0aGUgYXBwbGljYXRpb24uIFBsZWFzZSB0cnkgcmVmcmVzaGluZyB0aGUgcGFnZS5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIHt0aGlzLnN0YXRlLmVycm9yICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00XCI+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGZvbnQtc2VtaWJvbGRcIj5FcnJvciBkZXRhaWxzOjwvcD5cbiAgICAgICAgICAgICAgICA8cHJlIGNsYXNzTmFtZT1cIm10LTIgcC00IGJnLWdyYXktMTAwIHJvdW5kZWQgdGV4dC14cyBvdmVyZmxvdy1hdXRvIG1heC1oLTQ4XCI+XG4gICAgICAgICAgICAgICAgICB7dGhpcy5zdGF0ZS5lcnJvci50b1N0cmluZygpfVxuICAgICAgICAgICAgICAgICAge3RoaXMuc3RhdGUuZXJyb3JJbmZvICYmIHRoaXMuc3RhdGUuZXJyb3JJbmZvLmNvbXBvbmVudFN0YWNrfVxuICAgICAgICAgICAgICAgIDwvcHJlPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtdC02IHctZnVsbCBiZy1wcmltYXJ5IHRleHQtd2hpdGUgcHktMiBweC00IHJvdW5kZWQgaG92ZXI6YmctYmx1ZS02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFJlZnJlc2ggUGFnZVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjsgXG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRXJyb3JCb3VuZGFyeTsgIl0sIm5hbWVzIjpbIlJlYWN0IiwiRXJyb3JCb3VuZGFyeSIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdGF0ZSIsImhhc0Vycm9yIiwiZXJyb3IiLCJlcnJvckluZm8iLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJjb21wb25lbnREaWRDYXRjaCIsImNvbnNvbGUiLCJzZXRTdGF0ZSIsInJlbmRlciIsImRpdiIsImNsYXNzTmFtZSIsImgyIiwicCIsInByZSIsInRvU3RyaW5nIiwiY29tcG9uZW50U3RhY2siLCJidXR0b24iLCJvbkNsaWNrIiwid2luZG93IiwibG9jYXRpb24iLCJyZWxvYWQiLCJjaGlsZHJlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/ErrorBoundary.js\n");

/***/ }),

/***/ "./components/ItineraryView.js":
/*!*************************************!*\
  !*** ./components/ItineraryView.js ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! framer-motion */ \"framer-motion\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([framer_motion__WEBPACK_IMPORTED_MODULE_2__]);\nframer_motion__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nconst ItineraryView = ({ days, selectedDay, onSelectDay })=>{\n    const [activities, setActivities] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const timelineRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Set activities whenever selectedDay changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Handle case where days might be empty or undefined\n        if (!days || days.length === 0) {\n            setActivities([]);\n            return;\n        }\n        const currentDayData = days.find((day)=>day.day === selectedDay);\n        if (currentDayData) {\n            setActivities(currentDayData.activities || []);\n        } else {\n            setActivities([]);\n        }\n    }, [\n        days,\n        selectedDay\n    ]);\n    // Function to scroll to current time of day (if app is used during trip)\n    const scrollToCurrentTime = ()=>{\n        if (!timelineRef.current) return;\n        const now = new Date();\n        const currentHour = now.getHours();\n        const currentMinute = now.getMinutes();\n        // Find activity closest to current time\n        const currentActivity = activities.find((activity)=>{\n            const timeParts = activity.time.match(/(\\d+):(\\d+)\\s*(AM|PM)/i);\n            if (!timeParts) return false;\n            let [_, hours, minutes, period] = timeParts;\n            hours = parseInt(hours);\n            minutes = parseInt(minutes);\n            // Convert to 24-hour format\n            if (period.toUpperCase() === \"PM\" && hours < 12) hours += 12;\n            if (period.toUpperCase() === \"AM\" && hours === 12) hours = 0;\n            // Activity is in the past or current\n            return hours < currentHour || hours === currentHour && minutes <= currentMinute;\n        });\n        if (currentActivity) {\n            const index = activities.indexOf(currentActivity);\n            const activityElements = timelineRef.current.querySelectorAll(\".timeline-item\");\n            if (index >= 0 && activityElements[index]) {\n                activityElements[index].scrollIntoView({\n                    behavior: \"smooth\",\n                    block: \"center\"\n                });\n            }\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full bg-white\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-100 p-4\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"day-tabs flex space-x-2 overflow-x-auto pb-2\",\n                    children: days.map((day)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>onSelectDay(day.day),\n                            className: `\n                px-4 py-2 rounded-full text-sm font-medium transition-all\n                ${selectedDay === day.day ? \"bg-secondary text-white shadow-md active\" : \"bg-white text-gray-700 border\"}\n              `,\n                            children: [\n                                \"Day \",\n                                day.day\n                            ]\n                        }, day.day, true, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                            lineNumber: 64,\n                            columnNumber: 13\n                        }, undefined))\n                }, void 0, false, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                    lineNumber: 62,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                lineNumber: 61,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 overflow-y-auto p-4 timeline-container\",\n                ref: timelineRef,\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.AnimatePresence, {\n                    mode: \"wait\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.motion.div, {\n                        initial: {\n                            opacity: 0,\n                            x: 20\n                        },\n                        animate: {\n                            opacity: 1,\n                            x: 0\n                        },\n                        exit: {\n                            opacity: 0,\n                            x: -20\n                        },\n                        transition: {\n                            duration: 0.3\n                        },\n                        className: \"space-y-6\",\n                        children: activities.map((activity, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.motion.div, {\n                                initial: {\n                                    opacity: 0,\n                                    y: 20\n                                },\n                                animate: {\n                                    opacity: 1,\n                                    y: 0\n                                },\n                                transition: {\n                                    duration: 0.3,\n                                    delay: index * 0.1\n                                },\n                                className: \"flex timeline-item\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"w-20 text-right pr-4\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm font-semibold text-gray-600\",\n                                            children: activity.time\n                                        }, void 0, false, {\n                                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                            lineNumber: 101,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                        lineNumber: 100,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative flex flex-col items-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"h-full w-0.5 bg-gray-200 absolute top-0 bottom-0\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                                lineNumber: 106,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: `\n                    z-10 rounded-full w-4 h-4 flex items-center justify-center\n                    ${index === 0 ? \"bg-primary\" : \"bg-secondary\"}\n                  `,\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-xs\",\n                                                    children: activity.icon\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                                    lineNumber: 111,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                                lineNumber: 107,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                        lineNumber: 105,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"ml-4 bg-white rounded-lg border border-gray-200 shadow-sm p-4 flex-1 mb-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-center mb-2\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-2xl mr-3\",\n                                                        children: activity.icon\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                                        lineNumber: 118,\n                                                        columnNumber: 21\n                                                    }, undefined),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                        className: \"font-semibold\",\n                                                        children: activity.title\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                                        lineNumber: 119,\n                                                        columnNumber: 21\n                                                    }, undefined)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                                lineNumber: 117,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm text-gray-600\",\n                                                children: activity.description\n                                            }, void 0, false, {\n                                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                                lineNumber: 121,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                        lineNumber: 116,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, `${selectedDay}-${index}`, true, {\n                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                                lineNumber: 92,\n                                columnNumber: 15\n                            }, undefined))\n                    }, selectedDay, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                        lineNumber: 83,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                    lineNumber: 82,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n                lineNumber: 81,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/ItineraryView.js\",\n        lineNumber: 59,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ItineraryView);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QSxpRUFBZUYsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXAtaW50ZWwtYWkvLi9jb21wb25lbnRzL0l0aW5lcmFyeVZpZXcuanM/NjAzMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VTdGF0ZSwgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuXG5jb25zdCBJdGluZXJhcnlWaWV3ID0gKHsgZGF5cywgc2VsZWN0ZWREYXksIG9uU2VsZWN0RGF5IH0pID0+IHtcbiAgY29uc3QgW2FjdGl2aXRpZXMsIHNldEFjdGl2aXRpZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCB0aW1lbGluZVJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBTZXQgYWN0aXZpdGllcyB3aGVuZXZlciBzZWxlY3RlZERheSBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gSGFuZGxlIGNhc2Ugd2hlcmUgZGF5cyBtaWdodCBiZSBlbXB0eSBvciB1bmRlZmluZWRcbiAgICBpZiAoIWRheXMgfHwgZGF5cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldEFjdGl2aXRpZXMoW10pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnREYXlEYXRhID0gZGF5cy5maW5kKGRheSA9PiBkYXkuZGF5ID09PSBzZWxlY3RlZERheSk7XG4gICAgaWYgKGN1cnJlbnREYXlEYXRhKSB7XG4gICAgICBzZXRBY3Rpdml0aWVzKGN1cnJlbnREYXlEYXRhLmFjdGl2aXRpZXMgfHwgW10pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRBY3Rpdml0aWVzKFtdKTtcbiAgICB9XG4gIH0sIFtkYXlzLCBzZWxlY3RlZERheV0pO1xuXG4gIC8vIEZ1bmN0aW9uIHRvIHNjcm9sbCB0byBjdXJyZW50IHRpbWUgb2YgZGF5IChpZiBhcHAgaXMgdXNlZCBkdXJpbmcgdHJpcClcbiAgY29uc3Qgc2Nyb2xsVG9DdXJyZW50VGltZSA9ICgpID0+IHtcbiAgICBpZiAoIXRpbWVsaW5lUmVmLmN1cnJlbnQpIHJldHVybjtcbiAgICBcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGN1cnJlbnRIb3VyID0gbm93LmdldEhvdXJzKCk7XG4gICAgY29uc3QgY3VycmVudE1pbnV0ZSA9IG5vdy5nZXRNaW51dGVzKCk7XG4gICAgXG4gICAgLy8gRmluZCBhY3Rpdml0eSBjbG9zZXN0IHRvIGN1cnJlbnQgdGltZVxuICAgIGNvbnN0IGN1cnJlbnRBY3Rpdml0eSA9IGFjdGl2aXRpZXMuZmluZChhY3Rpdml0eSA9PiB7XG4gICAgICBjb25zdCB0aW1lUGFydHMgPSBhY3Rpdml0eS50aW1lLm1hdGNoKC8oXFxkKyk6KFxcZCspXFxzKihBTXxQTSkvaSk7XG4gICAgICBpZiAoIXRpbWVQYXJ0cykgcmV0dXJuIGZhbHNlO1xuICAgICAgXG4gICAgICBsZXQgW18sIGhvdXJzLCBtaW51dGVzLCBwZXJpb2RdID0gdGltZVBhcnRzO1xuICAgICAgaG91cnMgPSBwYXJzZUludChob3Vycyk7XG4gICAgICBtaW51dGVzID0gcGFyc2VJbnQobWludXRlcyk7XG4gICAgICBcbiAgICAgIC8vIENvbnZlcnQgdG8gMjQtaG91ciBmb3JtYXRcbiAgICAgIGlmIChwZXJpb2QudG9VcHBlckNhc2UoKSA9PT0gJ1BNJyAmJiBob3VycyA8IDEyKSBob3VycyArPSAxMjtcbiAgICAgIGlmIChwZXJpb2QudG9VcHBlckNhc2UoKSA9PT0gJ0FNJyAmJiBob3VycyA9PT0gMTIpIGhvdXJzID0gMDtcbiAgICAgIFxuICAgICAgLy8gQWN0aXZpdHkgaXMgaW4gdGhlIHBhc3Qgb3IgY3VycmVudFxuICAgICAgcmV0dXJuIGhvdXJzIDwgY3VycmVudEhvdXIgfHwgKGhvdXJzID09PSBjdXJyZW50SG91ciAmJiBtaW51dGVzIDw9IGN1cnJlbnRNaW51dGUpO1xuICAgIH0pO1xuICAgIFxuICAgIGlmIChjdXJyZW50QWN0aXZpdHkpIHtcbiAgICAgIGNvbnN0IGluZGV4ID0gYWN0aXZpdGllcy5pbmRleE9mKGN1cnJlbnRBY3Rpdml0eSk7XG4gICAgICBjb25zdCBhY3Rpdml0eUVsZW1lbnRzID0gdGltZWxpbmVSZWYuY3VycmVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGltZWxpbmUtaXRlbScpO1xuICAgICAgaWYgKGluZGV4ID49IDAgJiYgYWN0aXZpdHlFbGVtZW50c1tpbmRleF0pIHtcbiAgICAgICAgYWN0aXZpdHlFbGVtZW50c1tpbmRleF0uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJyB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1mdWxsIGJnLXdoaXRlXCI+XG4gICAgICB7LyogRGF5cyBzZWxlY3RvciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS0xMDAgcC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZGF5LXRhYnMgZmxleCBzcGFjZS14LTIgb3ZlcmZsb3cteC1hdXRvIHBiLTJcIj5cbiAgICAgICAgICB7ZGF5cy5tYXAoKGRheSkgPT4gKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBrZXk9e2RheS5kYXl9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9uU2VsZWN0RGF5KGRheS5kYXkpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BcbiAgICAgICAgICAgICAgICBweC00IHB5LTIgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGxcbiAgICAgICAgICAgICAgICAke3NlbGVjdGVkRGF5ID09PSBkYXkuZGF5IFxuICAgICAgICAgICAgICAgICAgPyAnYmctc2Vjb25kYXJ5IHRleHQtd2hpdGUgc2hhZG93LW1kIGFjdGl2ZScgXG4gICAgICAgICAgICAgICAgICA6ICdiZy13aGl0ZSB0ZXh0LWdyYXktNzAwIGJvcmRlcid9XG4gICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIERheSB7ZGF5LmRheX1cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICkpfVxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7LyogSXRpbmVyYXJ5IHRpbWVsaW5lICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNCB0aW1lbGluZS1jb250YWluZXJcIiByZWY9e3RpbWVsaW5lUmVmfT5cbiAgICAgICAgPEFuaW1hdGVQcmVzZW5jZSBtb2RlPVwid2FpdFwiPlxuICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICBrZXk9e3NlbGVjdGVkRGF5fVxuICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCB4OiAyMCB9fVxuICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB4OiAwIH19XG4gICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHg6IC0yMCB9fVxuICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJzcGFjZS15LTZcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIHthY3Rpdml0aWVzLm1hcCgoYWN0aXZpdHksIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAga2V5PXtgJHtzZWxlY3RlZERheX0tJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cbiAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMsIGRlbGF5OiBpbmRleCAqIDAuMSB9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggdGltZWxpbmUtaXRlbVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7LyogVGltZSBjb2x1bW4gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTIwIHRleHQtcmlnaHQgcHItNFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTYwMFwiPnthY3Rpdml0eS50aW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBUaW1lbGluZSBsaW5lIGFuZCBkb3QgKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoLWZ1bGwgdy0wLjUgYmctZ3JheS0yMDAgYWJzb2x1dGUgdG9wLTAgYm90dG9tLTBcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtgXG4gICAgICAgICAgICAgICAgICAgIHotMTAgcm91bmRlZC1mdWxsIHctNCBoLTQgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgJHtpbmRleCA9PT0gMCA/ICdiZy1wcmltYXJ5JyA6ICdiZy1zZWNvbmRhcnknfVxuICAgICAgICAgICAgICAgICAgYH0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC14c1wiPnthY3Rpdml0eS5pY29ufTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBBY3Rpdml0eSBkZXRhaWxzICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtNCBiZy13aGl0ZSByb3VuZGVkLWxnIGJvcmRlciBib3JkZXItZ3JheS0yMDAgc2hhZG93LXNtIHAtNCBmbGV4LTEgbWItNlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIG1yLTNcIj57YWN0aXZpdHkuaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkXCI+e2FjdGl2aXR5LnRpdGxlfTwvaDM+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPnthY3Rpdml0eS5kZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgPC9BbmltYXRlUHJlc2VuY2U+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEl0aW5lcmFyeVZpZXc7ICJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsIkl0aW5lcmFyeVZpZXciLCJkYXlzIiwic2VsZWN0ZWREYXkiLCJvblNlbGVjdERheSIsImFjdGl2aXRpZXMiLCJzZXRBY3Rpdml0aWVzIiwidGltZWxpbmVSZWYiLCJsZW5ndGgiLCJjdXJyZW50RGF5RGF0YSIsImZpbmQiLCJkYXkiLCJzY3JvbGxUb0N1cnJlbnRUaW1lIiwiY3VycmVudCIsIm5vdyIsIkRhdGUiLCJjdXJyZW50SG91ciIsImdldEhvdXJzIiwiY3VycmVudE1pbnV0ZSIsImdldE1pbnV0ZXMiLCJjdXJyZW50QWN0aXZpdHkiLCJhY3Rpdml0eSIsInRpbWVQYXJ0cyIsInRpbWUiLCJtYXRjaCIsIl8iLCJob3VycyIsIm1pbnV0ZXMiLCJwZXJpb2QiLCJwYXJzZUludCIsInRvVXBwZXJDYXNlIiwiaW5kZXgiLCJpbmRleE9mIiwiYWN0aXZpdHlFbGVtZW50cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiYmxvY2siLCJkaXYiLCJjbGFzc05hbWUiLCJtYXAiLCJidXR0b24iLCJvbkNsaWNrIiwicmVmIiwibW9kZSIsImluaXRpYWwiLCJvcGFjaXR5IiwieCIsImFuaW1hdGUiLCJleGl0IiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwieSIsImRlbGF5Iiwic3BhbiIsImljb24iLCJoMyIsInRpdGxlIiwicCIsImRlc2NyaXB0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/ItineraryView.js\n");

/***/ }),

/***/ "./components/MapView.js":
/*!*******************************!*\
  !*** ./components/MapView.js ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_google_maps_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-google-maps/api */ \"@react-google-maps/api\");\n/* harmony import */ var _react_google_maps_api__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! framer-motion */ \"framer-motion\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([framer_motion__WEBPACK_IMPORTED_MODULE_3__]);\nframer_motion__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst containerStyle = {\n    width: \"100%\",\n    height: \"100%\"\n};\nconst defaultCenter = {\n    lat: 40.7580,\n    lng: -73.9855\n};\nconst MapView = ({ activities, day })=>{\n    const [map, setMap] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [directions, setDirections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [mapCenter, setMapCenter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(defaultCenter);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [markers, setMarkers] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const directionsServiceRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const directionsRendererRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // Load the Google Maps API\n    const GOOGLE_MAPS_API_KEY = process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || \"YOUR_API_KEY_HERE\";\n    const loaderOptions = {\n        id: \"google-map-script\",\n        googleMapsApiKey: GOOGLE_MAPS_API_KEY,\n        libraries: [\n            \"places\"\n        ] //  remove 'directions'\n    };\n    const { isLoaded, loadError } = (0,_react_google_maps_api__WEBPACK_IMPORTED_MODULE_2__.useJsApiLoader)(loaderOptions);\n    // Add debugging logs\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"MapView Debug:\", {\n            isLoaded,\n            loadError,\n            activities,\n            apiKey: process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY,\n            mapCenter\n        });\n    }, [\n        isLoaded,\n        loadError,\n        activities,\n        mapCenter\n    ]);\n    // Set up map markers from activities\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (activities && activities.length > 0) {\n            setMarkers(activities.map((activity, index)=>({\n                    id: index,\n                    position: activity.location,\n                    title: activity.title,\n                    icon: activity.icon\n                })));\n            // Set map center to first activity\n            if (activities[0]?.location) {\n                setMapCenter(activities[0].location);\n            }\n        }\n    }, [\n        activities\n    ]);\n    // Calculate and display directions when activities change\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (isLoaded && activities && activities.length > 1) {\n            calculateRoute();\n        }\n    }, [\n        isLoaded,\n        activities,\n        day\n    ]);\n    // Map load handler\n    const onLoad = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function callback(map) {\n        setMap(map);\n        setIsLoading(false);\n    }, []);\n    // Map unmount handler\n    const onUnmount = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function callback() {\n        setMap(null);\n    }, []);\n    // Calculate the route between all activity locations\n    const calculateRoute = ()=>{\n        if (!window.google) return;\n        setIsLoading(true);\n        // Create directions service if needed\n        if (!directionsServiceRef.current) {\n            directionsServiceRef.current = new window.google.maps.DirectionsService();\n        }\n        // Extract waypoints (skip first and last locations)\n        const waypoints = activities.slice(1, -1).map((activity)=>({\n                location: activity.location,\n                stopover: true\n            }));\n        // Create request for directions\n        const request = {\n            origin: activities[0].location,\n            destination: activities[activities.length - 1].location,\n            waypoints: waypoints,\n            optimizeWaypoints: true,\n            travelMode: window.google.maps.TravelMode.DRIVING\n        };\n        // Request directions\n        directionsServiceRef.current.route(request, (result, status)=>{\n            if (status === window.google.maps.DirectionsStatus.OK) {\n                setDirections(result);\n            } else {\n                console.error(`Directions request failed: ${status}`);\n            }\n            setIsLoading(false);\n        });\n    };\n    // Render loading state\n    if (!isLoaded || isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-full bg-gray-100 items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-col items-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-12 h-12 border-4 border-primary border-t-transparent rounded-full animate-spin\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                        lineNumber: 123,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"mt-4 text-gray-600\",\n                        children: \"Loading map...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                        lineNumber: 124,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                lineNumber: 122,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n            lineNumber: 121,\n            columnNumber: 7\n        }, undefined);\n    }\n    // Render error state\n    if (loadError) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex h-full bg-gray-100 items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center p-4\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-red-500\",\n                        children: \"Error loading maps\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                        lineNumber: 135,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-600 mt-2\",\n                        children: \"Please check your internet connection and try again\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                        lineNumber: 136,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                lineNumber: 134,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n            lineNumber: 133,\n            columnNumber: 7\n        }, undefined);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-full\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-gray-100 p-4 shadow-sm\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                        className: \"text-lg font-semibold\",\n                        children: [\n                            \"Day \",\n                            day,\n                            \" Route\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                        lineNumber: 148,\n                        columnNumber: 9\n                    }, undefined),\n                    activities.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-600 mt-1\",\n                        children: [\n                            activities.length,\n                            \" locations  \",\n                            activities.length - 1,\n                            \" stops\"\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                        lineNumber: 150,\n                        columnNumber: 11\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                lineNumber: 147,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_3__.motion.div, {\n                className: \"flex-1 relative\",\n                initial: {\n                    opacity: 0\n                },\n                animate: {\n                    opacity: 1\n                },\n                transition: {\n                    duration: 0.5\n                },\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_2__.GoogleMap, {\n                    mapContainerStyle: containerStyle,\n                    center: mapCenter,\n                    zoom: 12,\n                    onLoad: onLoad,\n                    onUnmount: onUnmount,\n                    options: {\n                        zoomControl: true,\n                        streetViewControl: false,\n                        mapTypeControl: false,\n                        fullscreenControl: true\n                    },\n                    children: [\n                        directions && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_2__.DirectionsRenderer, {\n                            options: {\n                                directions: directions,\n                                suppressMarkers: true,\n                                polylineOptions: {\n                                    strokeColor: \"#4a90e2\",\n                                    strokeWeight: 5,\n                                    strokeOpacity: 0.7,\n                                    className: \"route-path\"\n                                }\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                            lineNumber: 178,\n                            columnNumber: 13\n                        }, undefined),\n                        markers.map((marker)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_google_maps_api__WEBPACK_IMPORTED_MODULE_2__.Marker, {\n                                position: marker.position,\n                                title: marker.title,\n                                label: {\n                                    text: marker.icon,\n                                    fontSize: \"16px\"\n                                }\n                            }, marker.id, false, {\n                                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                                lineNumber: 194,\n                                columnNumber: 13\n                            }, undefined))\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                    lineNumber: 163,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n                lineNumber: 157,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/components/MapView.js\",\n        lineNumber: 145,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MapView);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUU7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFhNUI7QUFFQSxpRUFBZXBCLE9BQU9BLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwLWludGVsLWFpLy4vY29tcG9uZW50cy9NYXBWaWV3LmpzPzdkZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEdvb2dsZU1hcCwgdXNlSnNBcGlMb2FkZXIsIE1hcmtlciwgRGlyZWN0aW9uc1JlbmRlcmVyIH0gZnJvbSAnQHJlYWN0LWdvb2dsZS1tYXBzL2FwaSc7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tICdmcmFtZXItbW90aW9uJztcblxuY29uc3QgY29udGFpbmVyU3R5bGUgPSB7XG4gIHdpZHRoOiAnMTAwJScsXG4gIGhlaWdodDogJzEwMCUnXG59O1xuXG5jb25zdCBkZWZhdWx0Q2VudGVyID0ge1xuICBsYXQ6IDQwLjc1ODAsIFxuICBsbmc6IC03My45ODU1XG59O1xuXG5jb25zdCBNYXBWaWV3ID0gKHsgYWN0aXZpdGllcywgZGF5IH0pID0+IHtcbiAgY29uc3QgW21hcCwgc2V0TWFwXSA9IHVzZVN0YXRlKG51bGwpO1xuICBjb25zdCBbZGlyZWN0aW9ucywgc2V0RGlyZWN0aW9uc10gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW21hcENlbnRlciwgc2V0TWFwQ2VudGVyXSA9IHVzZVN0YXRlKGRlZmF1bHRDZW50ZXIpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFttYXJrZXJzLCBzZXRNYXJrZXJzXSA9IHVzZVN0YXRlKFtdKTtcbiAgY29uc3QgZGlyZWN0aW9uc1NlcnZpY2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IGRpcmVjdGlvbnNSZW5kZXJlclJlZiA9IHVzZVJlZihudWxsKTtcblxuICAvLyBMb2FkIHRoZSBHb29nbGUgTWFwcyBBUElcbiAgY29uc3QgR09PR0xFX01BUFNfQVBJX0tFWSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9NQVBTX0FQSV9LRVkgfHwgJ1lPVVJfQVBJX0tFWV9IRVJFJztcblxuICBjb25zdCBsb2FkZXJPcHRpb25zID0ge1xuICAgIGlkOiAnZ29vZ2xlLW1hcC1zY3JpcHQnLFxuICAgIGdvb2dsZU1hcHNBcGlLZXk6IEdPT0dMRV9NQVBTX0FQSV9LRVksXG4gICAgbGlicmFyaWVzOiBbJ3BsYWNlcyddICAvLyDinIUgcmVtb3ZlICdkaXJlY3Rpb25zJ1xuICB9O1xuICBcbiAgY29uc3QgeyBpc0xvYWRlZCwgbG9hZEVycm9yIH0gPSB1c2VKc0FwaUxvYWRlcihsb2FkZXJPcHRpb25zKTtcblxuICAvLyBBZGQgZGVidWdnaW5nIGxvZ3NcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTWFwVmlldyBEZWJ1ZzonLCB7XG4gICAgICBpc0xvYWRlZCxcbiAgICAgIGxvYWRFcnJvcixcbiAgICAgIGFjdGl2aXRpZXMsXG4gICAgICBhcGlLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0dPT0dMRV9NQVBTX0FQSV9LRVksXG4gICAgICBtYXBDZW50ZXJcbiAgICB9KTtcbiAgfSwgW2lzTG9hZGVkLCBsb2FkRXJyb3IsIGFjdGl2aXRpZXMsIG1hcENlbnRlcl0pO1xuXG4gIC8vIFNldCB1cCBtYXAgbWFya2VycyBmcm9tIGFjdGl2aXRpZXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoYWN0aXZpdGllcyAmJiBhY3Rpdml0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHNldE1hcmtlcnMoYWN0aXZpdGllcy5tYXAoKGFjdGl2aXR5LCBpbmRleCkgPT4gKHtcbiAgICAgICAgaWQ6IGluZGV4LFxuICAgICAgICBwb3NpdGlvbjogYWN0aXZpdHkubG9jYXRpb24sXG4gICAgICAgIHRpdGxlOiBhY3Rpdml0eS50aXRsZSxcbiAgICAgICAgaWNvbjogYWN0aXZpdHkuaWNvblxuICAgICAgfSkpKTtcblxuICAgICAgLy8gU2V0IG1hcCBjZW50ZXIgdG8gZmlyc3QgYWN0aXZpdHlcbiAgICAgIGlmIChhY3Rpdml0aWVzWzBdPy5sb2NhdGlvbikge1xuICAgICAgICBzZXRNYXBDZW50ZXIoYWN0aXZpdGllc1swXS5sb2NhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbYWN0aXZpdGllc10pO1xuXG4gIC8vIENhbGN1bGF0ZSBhbmQgZGlzcGxheSBkaXJlY3Rpb25zIHdoZW4gYWN0aXZpdGllcyBjaGFuZ2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaXNMb2FkZWQgJiYgYWN0aXZpdGllcyAmJiBhY3Rpdml0aWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNhbGN1bGF0ZVJvdXRlKCk7XG4gICAgfVxuICB9LCBbaXNMb2FkZWQsIGFjdGl2aXRpZXMsIGRheV0pO1xuXG4gIC8vIE1hcCBsb2FkIGhhbmRsZXJcbiAgY29uc3Qgb25Mb2FkID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gY2FsbGJhY2sobWFwKSB7XG4gICAgc2V0TWFwKG1hcCk7XG4gICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgfSwgW10pO1xuXG4gIC8vIE1hcCB1bm1vdW50IGhhbmRsZXJcbiAgY29uc3Qgb25Vbm1vdW50ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gY2FsbGJhY2soKSB7XG4gICAgc2V0TWFwKG51bGwpO1xuICB9LCBbXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIHRoZSByb3V0ZSBiZXR3ZWVuIGFsbCBhY3Rpdml0eSBsb2NhdGlvbnNcbiAgY29uc3QgY2FsY3VsYXRlUm91dGUgPSAoKSA9PiB7XG4gICAgaWYgKCF3aW5kb3cuZ29vZ2xlKSByZXR1cm47XG4gICAgXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIC8vIENyZWF0ZSBkaXJlY3Rpb25zIHNlcnZpY2UgaWYgbmVlZGVkXG4gICAgaWYgKCFkaXJlY3Rpb25zU2VydmljZVJlZi5jdXJyZW50KSB7XG4gICAgICBkaXJlY3Rpb25zU2VydmljZVJlZi5jdXJyZW50ID0gbmV3IHdpbmRvdy5nb29nbGUubWFwcy5EaXJlY3Rpb25zU2VydmljZSgpO1xuICAgIH1cbiAgICBcbiAgICAvLyBFeHRyYWN0IHdheXBvaW50cyAoc2tpcCBmaXJzdCBhbmQgbGFzdCBsb2NhdGlvbnMpXG4gICAgY29uc3Qgd2F5cG9pbnRzID0gYWN0aXZpdGllcy5zbGljZSgxLCAtMSkubWFwKGFjdGl2aXR5ID0+ICh7XG4gICAgICBsb2NhdGlvbjogYWN0aXZpdHkubG9jYXRpb24sXG4gICAgICBzdG9wb3ZlcjogdHJ1ZVxuICAgIH0pKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgcmVxdWVzdCBmb3IgZGlyZWN0aW9uc1xuICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICBvcmlnaW46IGFjdGl2aXRpZXNbMF0ubG9jYXRpb24sXG4gICAgICBkZXN0aW5hdGlvbjogYWN0aXZpdGllc1thY3Rpdml0aWVzLmxlbmd0aCAtIDFdLmxvY2F0aW9uLFxuICAgICAgd2F5cG9pbnRzOiB3YXlwb2ludHMsXG4gICAgICBvcHRpbWl6ZVdheXBvaW50czogdHJ1ZSxcbiAgICAgIHRyYXZlbE1vZGU6IHdpbmRvdy5nb29nbGUubWFwcy5UcmF2ZWxNb2RlLkRSSVZJTkdcbiAgICB9O1xuICAgIFxuICAgIC8vIFJlcXVlc3QgZGlyZWN0aW9uc1xuICAgIGRpcmVjdGlvbnNTZXJ2aWNlUmVmLmN1cnJlbnQucm91dGUocmVxdWVzdCwgKHJlc3VsdCwgc3RhdHVzKSA9PiB7XG4gICAgICBpZiAoc3RhdHVzID09PSB3aW5kb3cuZ29vZ2xlLm1hcHMuRGlyZWN0aW9uc1N0YXR1cy5PSykge1xuICAgICAgICBzZXREaXJlY3Rpb25zKHJlc3VsdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBEaXJlY3Rpb25zIHJlcXVlc3QgZmFpbGVkOiAke3N0YXR1c31gKTtcbiAgICAgIH1cbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gUmVuZGVyIGxvYWRpbmcgc3RhdGVcbiAgaWYgKCFpc0xvYWRlZCB8fCBpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbCBiZy1ncmF5LTEwMCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xMiBoLTEyIGJvcmRlci00IGJvcmRlci1wcmltYXJ5IGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC00IHRleHQtZ3JheS02MDBcIj5Mb2FkaW5nIG1hcC4uLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gUmVuZGVyIGVycm9yIHN0YXRlXG4gIGlmIChsb2FkRXJyb3IpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGgtZnVsbCBiZy1ncmF5LTEwMCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTRcIj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDBcIj5FcnJvciBsb2FkaW5nIG1hcHM8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTJcIj5cbiAgICAgICAgICAgIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2FpblxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1mdWxsXCI+XG4gICAgICB7LyogTWFwIGhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS0xMDAgcC00IHNoYWRvdy1zbVwiPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+RGF5IHtkYXl9IFJvdXRlPC9oMj5cbiAgICAgICAge2FjdGl2aXRpZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIG10LTFcIj5cbiAgICAgICAgICAgIHthY3Rpdml0aWVzLmxlbmd0aH0gbG9jYXRpb25zIOKAoiB7YWN0aXZpdGllcy5sZW5ndGggLSAxfSBzdG9wc1xuICAgICAgICAgIDwvcD5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgICB7LyogTWFwIGNvbnRhaW5lciAqL31cbiAgICAgIDxtb3Rpb24uZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIlxuICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxIH19XG4gICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuNSB9fVxuICAgICAgPlxuICAgICAgICA8R29vZ2xlTWFwXG4gICAgICAgICAgbWFwQ29udGFpbmVyU3R5bGU9e2NvbnRhaW5lclN0eWxlfVxuICAgICAgICAgIGNlbnRlcj17bWFwQ2VudGVyfVxuICAgICAgICAgIHpvb209ezEyfVxuICAgICAgICAgIG9uTG9hZD17b25Mb2FkfVxuICAgICAgICAgIG9uVW5tb3VudD17b25Vbm1vdW50fVxuICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgIHpvb21Db250cm9sOiB0cnVlLFxuICAgICAgICAgICAgc3RyZWV0Vmlld0NvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgbWFwVHlwZUNvbnRyb2w6IGZhbHNlLFxuICAgICAgICAgICAgZnVsbHNjcmVlbkNvbnRyb2w6IHRydWUsXG4gICAgICAgICAgfX1cbiAgICAgICAgPlxuICAgICAgICAgIHsvKiBEaXNwbGF5IHJvdXRlIGlmIGRpcmVjdGlvbnMgYXJlIGF2YWlsYWJsZSAqL31cbiAgICAgICAgICB7ZGlyZWN0aW9ucyAmJiAoXG4gICAgICAgICAgICA8RGlyZWN0aW9uc1JlbmRlcmVyXG4gICAgICAgICAgICAgIG9wdGlvbnM9e3tcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb25zOiBkaXJlY3Rpb25zLFxuICAgICAgICAgICAgICAgIHN1cHByZXNzTWFya2VyczogdHJ1ZSwgLy8gV2UnbGwgYWRkIG91ciBvd24gbWFya2Vyc1xuICAgICAgICAgICAgICAgIHBvbHlsaW5lT3B0aW9uczoge1xuICAgICAgICAgICAgICAgICAgc3Ryb2tlQ29sb3I6ICcjNGE5MGUyJyxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZVdlaWdodDogNSxcbiAgICAgICAgICAgICAgICAgIHN0cm9rZU9wYWNpdHk6IDAuNyxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JvdXRlLXBhdGgnLCAvLyBGb3IgYW5pbWF0aW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApfVxuICAgICAgICAgIFxuICAgICAgICAgIHsvKiBEaXNwbGF5IG1hcmtlcnMgZm9yIGVhY2ggYWN0aXZpdHkgKi99XG4gICAgICAgICAge21hcmtlcnMubWFwKChtYXJrZXIpID0+IChcbiAgICAgICAgICAgIDxNYXJrZXJcbiAgICAgICAgICAgICAga2V5PXttYXJrZXIuaWR9XG4gICAgICAgICAgICAgIHBvc2l0aW9uPXttYXJrZXIucG9zaXRpb259XG4gICAgICAgICAgICAgIHRpdGxlPXttYXJrZXIudGl0bGV9XG4gICAgICAgICAgICAgIGxhYmVsPXt7XG4gICAgICAgICAgICAgICAgdGV4dDogbWFya2VyLmljb24sXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcxNnB4J1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9Hb29nbGVNYXA+XG4gICAgICA8L21vdGlvbi5kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBNYXBWaWV3OyAiXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VDYWxsYmFjayIsIkdvb2dsZU1hcCIsInVzZUpzQXBpTG9hZGVyIiwiTWFya2VyIiwiRGlyZWN0aW9uc1JlbmRlcmVyIiwibW90aW9uIiwiY29udGFpbmVyU3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsImRlZmF1bHRDZW50ZXIiLCJsYXQiLCJsbmciLCJNYXBWaWV3IiwiYWN0aXZpdGllcyIsImRheSIsIm1hcCIsInNldE1hcCIsImRpcmVjdGlvbnMiLCJzZXREaXJlY3Rpb25zIiwibWFwQ2VudGVyIiwic2V0TWFwQ2VudGVyIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwibWFya2VycyIsInNldE1hcmtlcnMiLCJkaXJlY3Rpb25zU2VydmljZVJlZiIsImRpcmVjdGlvbnNSZW5kZXJlclJlZiIsIkdPT0dMRV9NQVBTX0FQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR09PR0xFX01BUFNfQVBJX0tFWSIsImxvYWRlck9wdGlvbnMiLCJpZCIsImdvb2dsZU1hcHNBcGlLZXkiLCJsaWJyYXJpZXMiLCJpc0xvYWRlZCIsImxvYWRFcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhcGlLZXkiLCJsZW5ndGgiLCJhY3Rpdml0eSIsImluZGV4IiwicG9zaXRpb24iLCJsb2NhdGlvbiIsInRpdGxlIiwiaWNvbiIsImNhbGN1bGF0ZVJvdXRlIiwib25Mb2FkIiwiY2FsbGJhY2siLCJvblVubW91bnQiLCJ3aW5kb3ciLCJnb29nbGUiLCJjdXJyZW50IiwibWFwcyIsIkRpcmVjdGlvbnNTZXJ2aWNlIiwid2F5cG9pbnRzIiwic2xpY2UiLCJzdG9wb3ZlciIsInJlcXVlc3QiLCJvcmlnaW4iLCJkZXN0aW5hdGlvbiIsIm9wdGltaXplV2F5cG9pbnRzIiwidHJhdmVsTW9kZSIsIlRyYXZlbE1vZGUiLCJEUklWSU5HIiwicm91dGUiLCJyZXN1bHQiLCJzdGF0dXMiLCJEaXJlY3Rpb25zU3RhdHVzIiwiT0siLCJlcnJvciIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJoMiIsImluaXRpYWwiLCJvcGFjaXR5IiwiYW5pbWF0ZSIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsIm1hcENvbnRhaW5lclN0eWxlIiwiY2VudGVyIiwiem9vbSIsIm9wdGlvbnMiLCJ6b29tQ29udHJvbCIsInN0cmVldFZpZXdDb250cm9sIiwibWFwVHlwZUNvbnRyb2wiLCJmdWxsc2NyZWVuQ29udHJvbCIsInN1cHByZXNzTWFya2VycyIsInBvbHlsaW5lT3B0aW9ucyIsInN0cm9rZUNvbG9yIiwic3Ryb2tlV2VpZ2h0Iiwic3Ryb2tlT3BhY2l0eSIsIm1hcmtlciIsImxhYmVsIiwidGV4dCIsImZvbnRTaXplIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/MapView.js\n");

/***/ }),

/***/ "./pages/_app.js":
/*!***********************!*\
  !*** ./pages/_app.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/ErrorBoundary */ \"./components/ErrorBoundary.js\");\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ErrorBoundary__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/_app.js\",\n            lineNumber: 7,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/_app.js\",\n        lineNumber: 6,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBOEI7QUFDeUI7QUFFdkQsU0FBU0MsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtJQUNyQyxxQkFDRSw4REFBQ0gsaUVBQWFBO2tCQUNaLDRFQUFDRTtZQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7Ozs7O0FBRzlCO0FBRUEsaUVBQWVGLEtBQUtBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90cmlwLWludGVsLWFpLy4vcGFnZXMvX2FwcC5qcz9lMGFkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJ1xuaW1wb3J0IEVycm9yQm91bmRhcnkgZnJvbSAnLi4vY29tcG9uZW50cy9FcnJvckJvdW5kYXJ5J1xuXG5mdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH0pIHtcbiAgcmV0dXJuIChcbiAgICA8RXJyb3JCb3VuZGFyeT5cbiAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICA8L0Vycm9yQm91bmRhcnk+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgTXlBcHAgIl0sIm5hbWVzIjpbIkVycm9yQm91bmRhcnkiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.js\n");

/***/ }),

/***/ "./pages/index.js":
/*!************************!*\
  !*** ./pages/index.js ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Home)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/head */ \"next/head\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _components_ChatInterface__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../components/ChatInterface */ \"./components/ChatInterface.js\");\n/* harmony import */ var _components_ItineraryView__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../components/ItineraryView */ \"./components/ItineraryView.js\");\n/* harmony import */ var _components_MapView__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../components/MapView */ \"./components/MapView.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! framer-motion */ \"framer-motion\");\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../services/api */ \"./services/api.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_ChatInterface__WEBPACK_IMPORTED_MODULE_3__, _components_ItineraryView__WEBPACK_IMPORTED_MODULE_4__, _components_MapView__WEBPACK_IMPORTED_MODULE_5__, framer_motion__WEBPACK_IMPORTED_MODULE_6__]);\n([_components_ChatInterface__WEBPACK_IMPORTED_MODULE_3__, _components_ItineraryView__WEBPACK_IMPORTED_MODULE_4__, _components_MapView__WEBPACK_IMPORTED_MODULE_5__, framer_motion__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\nfunction Home() {\n    const [selectedDay, setSelectedDay] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [itineraryData, setItineraryData] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isMobile, setIsMobile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"chat\");\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Default sample itinerary for development/demo\n    const sampleItinerary = {\n        days: [\n            {\n                day: 1,\n                activities: [\n                    {\n                        time: \"09:00 AM\",\n                        title: \"Empire State Building\",\n                        description: \"Visit the iconic skyscraper\",\n                        icon: \"\\uD83C\\uDFD9\",\n                        location: {\n                            lat: 40.7484,\n                            lng: -73.9857\n                        }\n                    },\n                    {\n                        time: \"12:30 PM\",\n                        title: \"Lunch at Chelsea Market\",\n                        description: \"Explore diverse food options\",\n                        icon: \"\\uD83C\\uDF7D\",\n                        location: {\n                            lat: 40.7420,\n                            lng: -74.0048\n                        }\n                    },\n                    {\n                        time: \"02:30 PM\",\n                        title: \"High Line Walk\",\n                        description: \"Stroll along the elevated park\",\n                        icon: \"\\uD83D\\uDEB6\",\n                        location: {\n                            lat: 40.7480,\n                            lng: -74.0048\n                        }\n                    },\n                    {\n                        time: \"05:00 PM\",\n                        title: \"Museum of Modern Art\",\n                        description: \"Explore contemporary art\",\n                        icon: \"\\uD83C\\uDFDB\",\n                        location: {\n                            lat: 40.7614,\n                            lng: -73.9776\n                        }\n                    },\n                    {\n                        time: \"08:00 PM\",\n                        title: \"Dinner at Little Italy\",\n                        description: \"Authentic Italian cuisine\",\n                        icon: \"\\uD83C\\uDF5D\",\n                        location: {\n                            lat: 40.7197,\n                            lng: -73.9970\n                        }\n                    }\n                ]\n            },\n            {\n                day: 2,\n                activities: [\n                    {\n                        time: \"10:00 AM\",\n                        title: \"Central Park Bike Tour\",\n                        description: \"Cycle through the scenic park\",\n                        icon: \"\\uD83D\\uDEB2\",\n                        location: {\n                            lat: 40.7812,\n                            lng: -73.9665\n                        }\n                    },\n                    {\n                        time: \"01:00 PM\",\n                        title: \"Metropolitan Museum\",\n                        description: \"World-class art collection\",\n                        icon: \"\\uD83D\\uDDBC\",\n                        location: {\n                            lat: 40.7794,\n                            lng: -73.9632\n                        }\n                    },\n                    {\n                        time: \"04:00 PM\",\n                        title: \"Times Square\",\n                        description: \"Experience the bright lights\",\n                        icon: \"\",\n                        location: {\n                            lat: 40.7580,\n                            lng: -73.9855\n                        }\n                    },\n                    {\n                        time: \"07:30 PM\",\n                        title: \"Broadway Show\",\n                        description: \"Evening entertainment\",\n                        icon: \"\\uD83C\\uDFAD\",\n                        location: {\n                            lat: 40.7590,\n                            lng: -73.9845\n                        }\n                    }\n                ]\n            }\n        ]\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Check if the screen is mobile\n        const checkIfMobile = ()=>{\n            setIsMobile(window.innerWidth < 768);\n        };\n        // Set initial itinerary data\n        setItineraryData(sampleItinerary);\n        // Add window resize listener\n        checkIfMobile();\n        window.addEventListener(\"resize\", checkIfMobile);\n        return ()=>window.removeEventListener(\"resize\", checkIfMobile);\n    }, []);\n    // Function to parse itinerary text from AI response\n    const parseItineraryFromText = (text)=>{\n        try {\n            // Check if the text contains JSON\n            if (text.includes(\"{\") && text.includes(\"}\")) {\n                // Try to extract JSON from text\n                const jsonMatch = text.match(/\\{[\\s\\S]*\\}/);\n                if (jsonMatch) {\n                    const jsonData = JSON.parse(jsonMatch[0]);\n                    return jsonData;\n                }\n            }\n            // If no JSON found, try to parse the text format\n            // This is a simple example - in a real app, use more sophisticated parsing\n            const days = [];\n            const dayMatches = text.match(/Day \\d+:[\\s\\S]*?(?=Day \\d+:|$)/g);\n            if (dayMatches) {\n                dayMatches.forEach((dayText, index)=>{\n                    const dayNumber = index + 1;\n                    const activities = [];\n                    // Extract activities with time, title, and description\n                    const activityMatches = dayText.match(/(\\d{1,2}:\\d{2} [AP]M)[\\s-]*([^:]+)(?:: (.+))?/g);\n                    if (activityMatches) {\n                        activityMatches.forEach((activityText, actIndex)=>{\n                            const timeMatch = activityText.match(/(\\d{1,2}:\\d{2} [AP]M)/);\n                            const time = timeMatch ? timeMatch[1] : \"\";\n                            // Remove time from text\n                            let remainingText = activityText.replace(time, \"\").trim();\n                            remainingText = remainingText.replace(/^[-:]\\s*/, \"\");\n                            // Split into title and description if possible\n                            let title = remainingText;\n                            let description = \"\";\n                            if (remainingText.includes(\":\")) {\n                                const parts = remainingText.split(\":\");\n                                title = parts[0].trim();\n                                description = parts[1].trim();\n                            }\n                            // Assign an appropriate icon based on keywords\n                            let icon = \"\\uD83D\\uDCCD\";\n                            if (/breakfast|lunch|dinner|cafe|restaurant|food|eat/i.test(title)) {\n                                icon = \"\\uD83C\\uDF7D\";\n                            } else if (/museum|gallery|art|exhibit/i.test(title)) {\n                                icon = \"\\uD83C\\uDFDB\";\n                            } else if (/park|garden|nature|walk|hike/i.test(title)) {\n                                icon = \"\\uD83C\\uDF33\";\n                            } else if (/hotel|accommodation|stay|check|inn/i.test(title)) {\n                                icon = \"\\uD83C\\uDFE8\";\n                            } else if (/tour|visit|explore/i.test(title)) {\n                                icon = \"\\uD83D\\uDD0D\";\n                            } else if (/show|theater|concert|music|performance/i.test(title)) {\n                                icon = \"\\uD83C\\uDFAD\";\n                            } else if (/beach|ocean|sea|swim/i.test(title)) {\n                                icon = \"\\uD83C\\uDFD6\";\n                            }\n                            // Create mock location (in a real app, use geocoding API)\n                            // For demo purposes, creating locations around central NYC with slight variations\n                            const location = {\n                                lat: 40.7580 + (Math.random() * 0.1 - 0.05),\n                                lng: -73.9855 + (Math.random() * 0.1 - 0.05)\n                            };\n                            activities.push({\n                                time,\n                                title,\n                                description,\n                                icon,\n                                location\n                            });\n                        });\n                    }\n                    days.push({\n                        day: dayNumber,\n                        activities\n                    });\n                });\n            }\n            return {\n                days\n            };\n        } catch (error) {\n            console.error(\"Error parsing itinerary:\", error);\n            return null;\n        }\n    };\n    // Handle message from chat\n    const handleChatMessage = async (message)=>{\n        console.log(\"Message from chat:\", message);\n        setIsLoading(true);\n        try {\n            // Call the actual API\n            const response = await (0,_services_api__WEBPACK_IMPORTED_MODULE_7__.sendChatMessage)(message);\n            console.log(\"API response:\", response);\n            // Parse the itinerary from API response\n            let responseText = \"\";\n            let parsedItinerary = null;\n            if (response.response) {\n                if (typeof response.response === \"string\") {\n                    responseText = response.response;\n                    parsedItinerary = parseItineraryFromText(responseText);\n                } else {\n                    // Handle complex object response\n                    try {\n                        if (response.response.daily_itinerary) {\n                            // Convert the complex itinerary format to our app's format\n                            const days = [];\n                            const dailyItinerary = response.response.daily_itinerary;\n                            Object.keys(dailyItinerary).forEach((dayNum, dayIndex)=>{\n                                const dayActivities = dailyItinerary[dayNum];\n                                const activities = dayActivities.map((activity, actIndex)=>{\n                                    // Determine icon based on activity text\n                                    let icon = \"\\uD83D\\uDCCD\";\n                                    const activityText = activity.activity.toLowerCase();\n                                    if (/breakfast|lunch|dinner|cafe|restaurant|food|eat/i.test(activityText)) {\n                                        icon = \"\\uD83C\\uDF7D\";\n                                    } else if (/museum|gallery|art|exhibit/i.test(activityText)) {\n                                        icon = \"\\uD83C\\uDFDB\";\n                                    } else if (/park|garden|nature|walk|hike/i.test(activityText)) {\n                                        icon = \"\\uD83C\\uDF33\";\n                                    } else if (/hotel|accommodation|stay|check|inn/i.test(activityText)) {\n                                        icon = \"\\uD83C\\uDFE8\";\n                                    } else if (/tour|visit|explore/i.test(activityText)) {\n                                        icon = \"\\uD83D\\uDD0D\";\n                                    } else if (/show|theater|concert|music|performance/i.test(activityText)) {\n                                        icon = \"\\uD83C\\uDFAD\";\n                                    } else if (/beach|ocean|sea|swim/i.test(activityText)) {\n                                        icon = \"\\uD83C\\uDFD6\";\n                                    }\n                                    // Create a location with slight random variation from NYC center\n                                    const location = {\n                                        lat: 40.7580 + (Math.random() * 0.1 - 0.05),\n                                        lng: -73.9855 + (Math.random() * 0.1 - 0.05)\n                                    };\n                                    return {\n                                        time: activity.time || `${9 + actIndex}:00 AM`,\n                                        title: activity.activity,\n                                        description: activity.description || \"\",\n                                        icon,\n                                        location\n                                    };\n                                });\n                                days.push({\n                                    day: parseInt(dayNum) || dayIndex + 1,\n                                    activities\n                                });\n                            });\n                            parsedItinerary = {\n                                days\n                            };\n                        } else {\n                            // Fall back to text parsing if the structure isn't as expected\n                            responseText = JSON.stringify(response.response, null, 2);\n                            parsedItinerary = parseItineraryFromText(responseText);\n                        }\n                    } catch (error) {\n                        console.error(\"Error processing complex itinerary:\", error);\n                        responseText = JSON.stringify(response.response);\n                        parsedItinerary = parseItineraryFromText(responseText);\n                    }\n                }\n            }\n            if (parsedItinerary && parsedItinerary.days && parsedItinerary.days.length > 0) {\n                setItineraryData(parsedItinerary);\n                // If on mobile, switch to itinerary view\n                if (isMobile) {\n                    setActiveTab(\"itinerary\");\n                }\n            }\n            setIsLoading(false);\n        } catch (error) {\n            console.error(\"Error processing message:\", error);\n            setIsLoading(false);\n        }\n    };\n    // Get the current day's activities\n    const currentDayActivities = itineraryData?.days.find((day)=>day.day === selectedDay)?.activities || [];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen bg-background\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_2___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Travel Itinerary AI\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 247,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"AI-powered travel itinerary planner\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 248,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 249,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                lineNumber: 246,\n                columnNumber: 7\n            }, this),\n            isMobile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex border-b border-gray-200\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: `flex-1 py-3 text-center ${activeTab === \"chat\" ? \"bg-primary text-white\" : \"bg-gray-100\"}`,\n                        onClick: ()=>setActiveTab(\"chat\"),\n                        children: \"Chat\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 255,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: `flex-1 py-3 text-center ${activeTab === \"itinerary\" ? \"bg-primary text-white\" : \"bg-gray-100\"}`,\n                        onClick: ()=>setActiveTab(\"itinerary\"),\n                        children: \"Itinerary\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 261,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        className: `flex-1 py-3 text-center ${activeTab === \"map\" ? \"bg-primary text-white\" : \"bg-gray-100\"}`,\n                        onClick: ()=>setActiveTab(\"map\"),\n                        children: \"Map\"\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 267,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                lineNumber: 254,\n                columnNumber: 9\n            }, this),\n            isLoading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                            lineNumber: 280,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-4 text-gray-700\",\n                            children: \"Generating your itinerary...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                            lineNumber: 281,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                    lineNumber: 279,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                lineNumber: 278,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: `flex ${isMobile ? \"flex-col\" : \"flex-row\"} flex-1 overflow-hidden`,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                        className: `${isMobile ? activeTab === \"chat\" ? \"flex-1\" : \"hidden\" : \"w-1/3 border-r\"} flex flex-col`,\n                        initial: {\n                            opacity: 0\n                        },\n                        animate: {\n                            opacity: 1\n                        },\n                        transition: {\n                            duration: 0.5\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ChatInterface__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {\n                            onSendMessage: handleChatMessage\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                            lineNumber: 295,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 289,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                        className: `${isMobile ? activeTab === \"itinerary\" ? \"flex-1\" : \"hidden\" : \"w-1/3 border-r\"} flex flex-col`,\n                        initial: {\n                            opacity: 0\n                        },\n                        animate: {\n                            opacity: 1\n                        },\n                        transition: {\n                            duration: 0.5,\n                            delay: 0.1\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ItineraryView__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                            days: itineraryData?.days || [],\n                            selectedDay: selectedDay,\n                            onSelectDay: setSelectedDay\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                            lineNumber: 305,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 299,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_6__.motion.div, {\n                        className: `${isMobile ? activeTab === \"map\" ? \"flex-1\" : \"hidden\" : \"w-1/3\"} flex flex-col`,\n                        initial: {\n                            opacity: 0\n                        },\n                        animate: {\n                            opacity: 1\n                        },\n                        transition: {\n                            duration: 0.5,\n                            delay: 0.2\n                        },\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_MapView__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                            activities: currentDayActivities,\n                            day: selectedDay\n                        }, void 0, false, {\n                            fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                            lineNumber: 319,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                        lineNumber: 313,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n                lineNumber: 287,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/sahilgujral/Desktop/AnthropicUSC/TripIntelAI/pages/index.js\",\n        lineNumber: 245,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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eC5qcz9iZWU3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuaW1wb3J0IENoYXRJbnRlcmZhY2UgZnJvbSAnLi4vY29tcG9uZW50cy9DaGF0SW50ZXJmYWNlJztcbmltcG9ydCBJdGluZXJhcnlWaWV3IGZyb20gJy4uL2NvbXBvbmVudHMvSXRpbmVyYXJ5Vmlldyc7XG5pbXBvcnQgTWFwVmlldyBmcm9tICcuLi9jb21wb25lbnRzL01hcFZpZXcnO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyBzZW5kQ2hhdE1lc3NhZ2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9hcGknO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBIb21lKCkge1xuICBjb25zdCBbc2VsZWN0ZWREYXksIHNldFNlbGVjdGVkRGF5XSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCBbaXRpbmVyYXJ5RGF0YSwgc2V0SXRpbmVyYXJ5RGF0YV0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2lzTW9iaWxlLCBzZXRJc01vYmlsZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgnY2hhdCcpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuXG4gIC8vIERlZmF1bHQgc2FtcGxlIGl0aW5lcmFyeSBmb3IgZGV2ZWxvcG1lbnQvZGVtb1xuICBjb25zdCBzYW1wbGVJdGluZXJhcnkgPSB7XG4gICAgZGF5czogW1xuICAgICAge1xuICAgICAgICBkYXk6IDEsXG4gICAgICAgIGFjdGl2aXRpZXM6IFtcbiAgICAgICAgICB7IHRpbWU6ICcwOTowMCBBTScsIHRpdGxlOiAnRW1waXJlIFN0YXRlIEJ1aWxkaW5nJywgZGVzY3JpcHRpb246ICdWaXNpdCB0aGUgaWNvbmljIHNreXNjcmFwZXInLCBpY29uOiAn8J+Pme+4jycsIGxvY2F0aW9uOiB7IGxhdDogNDAuNzQ4NCwgbG5nOiAtNzMuOTg1NyB9IH0sXG4gICAgICAgICAgeyB0aW1lOiAnMTI6MzAgUE0nLCB0aXRsZTogJ0x1bmNoIGF0IENoZWxzZWEgTWFya2V0JywgZGVzY3JpcHRpb246ICdFeHBsb3JlIGRpdmVyc2UgZm9vZCBvcHRpb25zJywgaWNvbjogJ/Cfjb3vuI8nLCBsb2NhdGlvbjogeyBsYXQ6IDQwLjc0MjAsIGxuZzogLTc0LjAwNDggfSB9LFxuICAgICAgICAgIHsgdGltZTogJzAyOjMwIFBNJywgdGl0bGU6ICdIaWdoIExpbmUgV2FsaycsIGRlc2NyaXB0aW9uOiAnU3Ryb2xsIGFsb25nIHRoZSBlbGV2YXRlZCBwYXJrJywgaWNvbjogJ/CfmrYnLCBsb2NhdGlvbjogeyBsYXQ6IDQwLjc0ODAsIGxuZzogLTc0LjAwNDggfSB9LFxuICAgICAgICAgIHsgdGltZTogJzA1OjAwIFBNJywgdGl0bGU6ICdNdXNldW0gb2YgTW9kZXJuIEFydCcsIGRlc2NyaXB0aW9uOiAnRXhwbG9yZSBjb250ZW1wb3JhcnkgYXJ0JywgaWNvbjogJ/Cfj5vvuI8nLCBsb2NhdGlvbjogeyBsYXQ6IDQwLjc2MTQsIGxuZzogLTczLjk3NzYgfSB9LFxuICAgICAgICAgIHsgdGltZTogJzA4OjAwIFBNJywgdGl0bGU6ICdEaW5uZXIgYXQgTGl0dGxlIEl0YWx5JywgZGVzY3JpcHRpb246ICdBdXRoZW50aWMgSXRhbGlhbiBjdWlzaW5lJywgaWNvbjogJ/CfjZ0nLCBsb2NhdGlvbjogeyBsYXQ6IDQwLjcxOTcsIGxuZzogLTczLjk5NzAgfSB9LFxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBkYXk6IDIsXG4gICAgICAgIGFjdGl2aXRpZXM6IFtcbiAgICAgICAgICB7IHRpbWU6ICcxMDowMCBBTScsIHRpdGxlOiAnQ2VudHJhbCBQYXJrIEJpa2UgVG91cicsIGRlc2NyaXB0aW9uOiAnQ3ljbGUgdGhyb3VnaCB0aGUgc2NlbmljIHBhcmsnLCBpY29uOiAn8J+asicsIGxvY2F0aW9uOiB7IGxhdDogNDAuNzgxMiwgbG5nOiAtNzMuOTY2NSB9IH0sXG4gICAgICAgICAgeyB0aW1lOiAnMDE6MDAgUE0nLCB0aXRsZTogJ01ldHJvcG9saXRhbiBNdXNldW0nLCBkZXNjcmlwdGlvbjogJ1dvcmxkLWNsYXNzIGFydCBjb2xsZWN0aW9uJywgaWNvbjogJ/CflrzvuI8nLCBsb2NhdGlvbjogeyBsYXQ6IDQwLjc3OTQsIGxuZzogLTczLjk2MzIgfSB9LFxuICAgICAgICAgIHsgdGltZTogJzA0OjAwIFBNJywgdGl0bGU6ICdUaW1lcyBTcXVhcmUnLCBkZXNjcmlwdGlvbjogJ0V4cGVyaWVuY2UgdGhlIGJyaWdodCBsaWdodHMnLCBpY29uOiAn4pyoJywgbG9jYXRpb246IHsgbGF0OiA0MC43NTgwLCBsbmc6IC03My45ODU1IH0gfSxcbiAgICAgICAgICB7IHRpbWU6ICcwNzozMCBQTScsIHRpdGxlOiAnQnJvYWR3YXkgU2hvdycsIGRlc2NyaXB0aW9uOiAnRXZlbmluZyBlbnRlcnRhaW5tZW50JywgaWNvbjogJ/Cfjq0nLCBsb2NhdGlvbjogeyBsYXQ6IDQwLjc1OTAsIGxuZzogLTczLjk4NDUgfSB9LFxuICAgICAgICBdXG4gICAgICB9XG4gICAgXVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgdGhlIHNjcmVlbiBpcyBtb2JpbGVcbiAgICBjb25zdCBjaGVja0lmTW9iaWxlID0gKCkgPT4ge1xuICAgICAgc2V0SXNNb2JpbGUod2luZG93LmlubmVyV2lkdGggPCA3NjgpO1xuICAgIH07XG4gICAgXG4gICAgLy8gU2V0IGluaXRpYWwgaXRpbmVyYXJ5IGRhdGFcbiAgICBzZXRJdGluZXJhcnlEYXRhKHNhbXBsZUl0aW5lcmFyeSk7XG4gICAgXG4gICAgLy8gQWRkIHdpbmRvdyByZXNpemUgbGlzdGVuZXJcbiAgICBjaGVja0lmTW9iaWxlKCk7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGNoZWNrSWZNb2JpbGUpO1xuICAgIHJldHVybiAoKSA9PiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigncmVzaXplJywgY2hlY2tJZk1vYmlsZSk7XG4gIH0sIFtdKTtcblxuICAvLyBGdW5jdGlvbiB0byBwYXJzZSBpdGluZXJhcnkgdGV4dCBmcm9tIEFJIHJlc3BvbnNlXG4gIGNvbnN0IHBhcnNlSXRpbmVyYXJ5RnJvbVRleHQgPSAodGV4dCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgdGV4dCBjb250YWlucyBKU09OXG4gICAgICBpZiAodGV4dC5pbmNsdWRlcygneycpICYmIHRleHQuaW5jbHVkZXMoJ30nKSkge1xuICAgICAgICAvLyBUcnkgdG8gZXh0cmFjdCBKU09OIGZyb20gdGV4dFxuICAgICAgICBjb25zdCBqc29uTWF0Y2ggPSB0ZXh0Lm1hdGNoKC9cXHtbXFxzXFxTXSpcXH0vKTtcbiAgICAgICAgaWYgKGpzb25NYXRjaCkge1xuICAgICAgICAgIGNvbnN0IGpzb25EYXRhID0gSlNPTi5wYXJzZShqc29uTWF0Y2hbMF0pO1xuICAgICAgICAgIHJldHVybiBqc29uRGF0YTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBJZiBubyBKU09OIGZvdW5kLCB0cnkgdG8gcGFyc2UgdGhlIHRleHQgZm9ybWF0XG4gICAgICAvLyBUaGlzIGlzIGEgc2ltcGxlIGV4YW1wbGUgLSBpbiBhIHJlYWwgYXBwLCB1c2UgbW9yZSBzb3BoaXN0aWNhdGVkIHBhcnNpbmdcbiAgICAgIGNvbnN0IGRheXMgPSBbXTtcbiAgICAgIGNvbnN0IGRheU1hdGNoZXMgPSB0ZXh0Lm1hdGNoKC9EYXkgXFxkKzpbXFxzXFxTXSo/KD89RGF5IFxcZCs6fCQpL2cpO1xuICAgICAgXG4gICAgICBpZiAoZGF5TWF0Y2hlcykge1xuICAgICAgICBkYXlNYXRjaGVzLmZvckVhY2goKGRheVRleHQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF5TnVtYmVyID0gaW5kZXggKyAxO1xuICAgICAgICAgIGNvbnN0IGFjdGl2aXRpZXMgPSBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFeHRyYWN0IGFjdGl2aXRpZXMgd2l0aCB0aW1lLCB0aXRsZSwgYW5kIGRlc2NyaXB0aW9uXG4gICAgICAgICAgY29uc3QgYWN0aXZpdHlNYXRjaGVzID0gZGF5VGV4dC5tYXRjaCgvKFxcZHsxLDJ9OlxcZHsyfSBbQVBdTSlbXFxzLV0qKFteOl0rKSg/OjogKC4rKSk/L2cpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChhY3Rpdml0eU1hdGNoZXMpIHtcbiAgICAgICAgICAgIGFjdGl2aXR5TWF0Y2hlcy5mb3JFYWNoKChhY3Rpdml0eVRleHQsIGFjdEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHRpbWVNYXRjaCA9IGFjdGl2aXR5VGV4dC5tYXRjaCgvKFxcZHsxLDJ9OlxcZHsyfSBbQVBdTSkvKTtcbiAgICAgICAgICAgICAgY29uc3QgdGltZSA9IHRpbWVNYXRjaCA/IHRpbWVNYXRjaFsxXSA6ICcnO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRpbWUgZnJvbSB0ZXh0XG4gICAgICAgICAgICAgIGxldCByZW1haW5pbmdUZXh0ID0gYWN0aXZpdHlUZXh0LnJlcGxhY2UodGltZSwgJycpLnRyaW0oKTtcbiAgICAgICAgICAgICAgcmVtYWluaW5nVGV4dCA9IHJlbWFpbmluZ1RleHQucmVwbGFjZSgvXlstOl1cXHMqLywgJycpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gU3BsaXQgaW50byB0aXRsZSBhbmQgZGVzY3JpcHRpb24gaWYgcG9zc2libGVcbiAgICAgICAgICAgICAgbGV0IHRpdGxlID0gcmVtYWluaW5nVGV4dDtcbiAgICAgICAgICAgICAgbGV0IGRlc2NyaXB0aW9uID0gJyc7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAocmVtYWluaW5nVGV4dC5pbmNsdWRlcygnOicpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydHMgPSByZW1haW5pbmdUZXh0LnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgdGl0bGUgPSBwYXJ0c1swXS50cmltKCk7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSBwYXJ0c1sxXS50cmltKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEFzc2lnbiBhbiBhcHByb3ByaWF0ZSBpY29uIGJhc2VkIG9uIGtleXdvcmRzXG4gICAgICAgICAgICAgIGxldCBpY29uID0gJ/Cfk40nO1xuICAgICAgICAgICAgICBpZiAoL2JyZWFrZmFzdHxsdW5jaHxkaW5uZXJ8Y2FmZXxyZXN0YXVyYW50fGZvb2R8ZWF0L2kudGVzdCh0aXRsZSkpIHtcbiAgICAgICAgICAgICAgICBpY29uID0gJ/Cfjb3vuI8nO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9tdXNldW18Z2FsbGVyeXxhcnR8ZXhoaWJpdC9pLnRlc3QodGl0bGUpKSB7XG4gICAgICAgICAgICAgICAgaWNvbiA9ICfwn4+b77iPJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgvcGFya3xnYXJkZW58bmF0dXJlfHdhbGt8aGlrZS9pLnRlc3QodGl0bGUpKSB7XG4gICAgICAgICAgICAgICAgaWNvbiA9ICfwn4yzJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgvaG90ZWx8YWNjb21tb2RhdGlvbnxzdGF5fGNoZWNrfGlubi9pLnRlc3QodGl0bGUpKSB7XG4gICAgICAgICAgICAgICAgaWNvbiA9ICfwn4+oJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgvdG91cnx2aXNpdHxleHBsb3JlL2kudGVzdCh0aXRsZSkpIHtcbiAgICAgICAgICAgICAgICBpY29uID0gJ/CflI0nO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9zaG93fHRoZWF0ZXJ8Y29uY2VydHxtdXNpY3xwZXJmb3JtYW5jZS9pLnRlc3QodGl0bGUpKSB7XG4gICAgICAgICAgICAgICAgaWNvbiA9ICfwn46tJztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgvYmVhY2h8b2NlYW58c2VhfHN3aW0vaS50ZXN0KHRpdGxlKSkge1xuICAgICAgICAgICAgICAgIGljb24gPSAn8J+Plu+4jyc7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENyZWF0ZSBtb2NrIGxvY2F0aW9uIChpbiBhIHJlYWwgYXBwLCB1c2UgZ2VvY29kaW5nIEFQSSlcbiAgICAgICAgICAgICAgLy8gRm9yIGRlbW8gcHVycG9zZXMsIGNyZWF0aW5nIGxvY2F0aW9ucyBhcm91bmQgY2VudHJhbCBOWUMgd2l0aCBzbGlnaHQgdmFyaWF0aW9uc1xuICAgICAgICAgICAgICBjb25zdCBsb2NhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICBsYXQ6IDQwLjc1ODAgKyAoTWF0aC5yYW5kb20oKSAqIDAuMSAtIDAuMDUpLFxuICAgICAgICAgICAgICAgIGxuZzogLTczLjk4NTUgKyAoTWF0aC5yYW5kb20oKSAqIDAuMSAtIDAuMDUpXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBhY3Rpdml0aWVzLnB1c2goeyB0aW1lLCB0aXRsZSwgZGVzY3JpcHRpb24sIGljb24sIGxvY2F0aW9uIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGRheXMucHVzaCh7IGRheTogZGF5TnVtYmVyLCBhY3Rpdml0aWVzIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHsgZGF5cyB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwYXJzaW5nIGl0aW5lcmFyeTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGFuZGxlIG1lc3NhZ2UgZnJvbSBjaGF0XG4gIGNvbnN0IGhhbmRsZUNoYXRNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgICBjb25zb2xlLmxvZygnTWVzc2FnZSBmcm9tIGNoYXQ6JywgbWVzc2FnZSk7XG4gICAgXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgIFxuICAgIHRyeSB7XG4gICAgICAvLyBDYWxsIHRoZSBhY3R1YWwgQVBJXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHNlbmRDaGF0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIGNvbnNvbGUubG9nKCdBUEkgcmVzcG9uc2U6JywgcmVzcG9uc2UpO1xuICAgICAgXG4gICAgICAvLyBQYXJzZSB0aGUgaXRpbmVyYXJ5IGZyb20gQVBJIHJlc3BvbnNlXG4gICAgICBsZXQgcmVzcG9uc2VUZXh0ID0gJyc7XG4gICAgICBsZXQgcGFyc2VkSXRpbmVyYXJ5ID0gbnVsbDtcbiAgICAgIFxuICAgICAgaWYgKHJlc3BvbnNlLnJlc3BvbnNlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzcG9uc2UucmVzcG9uc2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgcmVzcG9uc2VUZXh0ID0gcmVzcG9uc2UucmVzcG9uc2U7XG4gICAgICAgICAgcGFyc2VkSXRpbmVyYXJ5ID0gcGFyc2VJdGluZXJhcnlGcm9tVGV4dChyZXNwb25zZVRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEhhbmRsZSBjb21wbGV4IG9iamVjdCByZXNwb25zZVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzcG9uc2UuZGFpbHlfaXRpbmVyYXJ5KSB7XG4gICAgICAgICAgICAgIC8vIENvbnZlcnQgdGhlIGNvbXBsZXggaXRpbmVyYXJ5IGZvcm1hdCB0byBvdXIgYXBwJ3MgZm9ybWF0XG4gICAgICAgICAgICAgIGNvbnN0IGRheXMgPSBbXTtcbiAgICAgICAgICAgICAgY29uc3QgZGFpbHlJdGluZXJhcnkgPSByZXNwb25zZS5yZXNwb25zZS5kYWlseV9pdGluZXJhcnk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkYWlseUl0aW5lcmFyeSkuZm9yRWFjaCgoZGF5TnVtLCBkYXlJbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheUFjdGl2aXRpZXMgPSBkYWlseUl0aW5lcmFyeVtkYXlOdW1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXRpZXMgPSBkYXlBY3Rpdml0aWVzLm1hcCgoYWN0aXZpdHksIGFjdEluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgaWNvbiBiYXNlZCBvbiBhY3Rpdml0eSB0ZXh0XG4gICAgICAgICAgICAgICAgICBsZXQgaWNvbiA9ICfwn5ONJztcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5VGV4dCA9IGFjdGl2aXR5LmFjdGl2aXR5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICBpZiAoL2JyZWFrZmFzdHxsdW5jaHxkaW5uZXJ8Y2FmZXxyZXN0YXVyYW50fGZvb2R8ZWF0L2kudGVzdChhY3Rpdml0eVRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGljb24gPSAn8J+Nve+4jyc7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9tdXNldW18Z2FsbGVyeXxhcnR8ZXhoaWJpdC9pLnRlc3QoYWN0aXZpdHlUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpY29uID0gJ/Cfj5vvuI8nO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvcGFya3xnYXJkZW58bmF0dXJlfHdhbGt8aGlrZS9pLnRlc3QoYWN0aXZpdHlUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpY29uID0gJ/CfjLMnO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvaG90ZWx8YWNjb21tb2RhdGlvbnxzdGF5fGNoZWNrfGlubi9pLnRlc3QoYWN0aXZpdHlUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpY29uID0gJ/Cfj6gnO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvdG91cnx2aXNpdHxleHBsb3JlL2kudGVzdChhY3Rpdml0eVRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGljb24gPSAn8J+UjSc7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKC9zaG93fHRoZWF0ZXJ8Y29uY2VydHxtdXNpY3xwZXJmb3JtYW5jZS9pLnRlc3QoYWN0aXZpdHlUZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpY29uID0gJ/Cfjq0nO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgvYmVhY2h8b2NlYW58c2VhfHN3aW0vaS50ZXN0KGFjdGl2aXR5VGV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbiA9ICfwn4+W77iPJztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbG9jYXRpb24gd2l0aCBzbGlnaHQgcmFuZG9tIHZhcmlhdGlvbiBmcm9tIE5ZQyBjZW50ZXJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBsYXQ6IDQwLjc1ODAgKyAoTWF0aC5yYW5kb20oKSAqIDAuMSAtIDAuMDUpLFxuICAgICAgICAgICAgICAgICAgICBsbmc6IC03My45ODU1ICsgKE1hdGgucmFuZG9tKCkgKiAwLjEgLSAwLjA1KVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZTogYWN0aXZpdHkudGltZSB8fCBgJHs5ICsgYWN0SW5kZXh9OjAwIEFNYCxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGFjdGl2aXR5LmFjdGl2aXR5LFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogYWN0aXZpdHkuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICAgICAgICAgIGljb24sXG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRheXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBkYXk6IHBhcnNlSW50KGRheU51bSkgfHwgZGF5SW5kZXggKyAxLFxuICAgICAgICAgICAgICAgICAgYWN0aXZpdGllc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHBhcnNlZEl0aW5lcmFyeSA9IHsgZGF5cyB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gRmFsbCBiYWNrIHRvIHRleHQgcGFyc2luZyBpZiB0aGUgc3RydWN0dXJlIGlzbid0IGFzIGV4cGVjdGVkXG4gICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLnJlc3BvbnNlLCBudWxsLCAyKTtcbiAgICAgICAgICAgICAgcGFyc2VkSXRpbmVyYXJ5ID0gcGFyc2VJdGluZXJhcnlGcm9tVGV4dChyZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIGNvbXBsZXggaXRpbmVyYXJ5OicsIGVycm9yKTtcbiAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLnJlc3BvbnNlKTtcbiAgICAgICAgICAgIHBhcnNlZEl0aW5lcmFyeSA9IHBhcnNlSXRpbmVyYXJ5RnJvbVRleHQocmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHBhcnNlZEl0aW5lcmFyeSAmJiBwYXJzZWRJdGluZXJhcnkuZGF5cyAmJiBwYXJzZWRJdGluZXJhcnkuZGF5cy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHNldEl0aW5lcmFyeURhdGEocGFyc2VkSXRpbmVyYXJ5KTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIG9uIG1vYmlsZSwgc3dpdGNoIHRvIGl0aW5lcmFyeSB2aWV3XG4gICAgICAgIGlmIChpc01vYmlsZSkge1xuICAgICAgICAgIHNldEFjdGl2ZVRhYignaXRpbmVyYXJ5Jyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBtZXNzYWdlOicsIGVycm9yKTtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIEdldCB0aGUgY3VycmVudCBkYXkncyBhY3Rpdml0aWVzXG4gIGNvbnN0IGN1cnJlbnREYXlBY3Rpdml0aWVzID0gaXRpbmVyYXJ5RGF0YT8uZGF5cy5maW5kKGRheSA9PiBkYXkuZGF5ID09PSBzZWxlY3RlZERheSk/LmFjdGl2aXRpZXMgfHwgW107XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgaC1zY3JlZW4gYmctYmFja2dyb3VuZFwiPlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT5UcmF2ZWwgSXRpbmVyYXJ5IEFJPC90aXRsZT5cbiAgICAgICAgPG1ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIkFJLXBvd2VyZWQgdHJhdmVsIGl0aW5lcmFyeSBwbGFubmVyXCIgLz5cbiAgICAgICAgPGxpbmsgcmVsPVwiaWNvblwiIGhyZWY9XCIvZmF2aWNvbi5pY29cIiAvPlxuICAgICAgPC9IZWFkPlxuXG4gICAgICB7LyogTW9iaWxlIE5hdmlnYXRpb24gKi99XG4gICAgICB7aXNNb2JpbGUgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtMSBweS0zIHRleHQtY2VudGVyICR7YWN0aXZlVGFiID09PSAnY2hhdCcgPyAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCd9YH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignY2hhdCcpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIENoYXRcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTMgdGV4dC1jZW50ZXIgJHthY3RpdmVUYWIgPT09ICdpdGluZXJhcnknID8gJ2JnLXByaW1hcnkgdGV4dC13aGl0ZScgOiAnYmctZ3JheS0xMDAnfWB9XG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBY3RpdmVUYWIoJ2l0aW5lcmFyeScpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEl0aW5lcmFyeVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LTEgcHktMyB0ZXh0LWNlbnRlciAke2FjdGl2ZVRhYiA9PT0gJ21hcCcgPyAnYmctcHJpbWFyeSB0ZXh0LXdoaXRlJyA6ICdiZy1ncmF5LTEwMCd9YH1cbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVRhYignbWFwJyl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgTWFwXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIExvYWRpbmcgT3ZlcmxheSAqL31cbiAgICAgIHtpc0xvYWRpbmcgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTYgcm91bmRlZC1sZyBzaGFkb3cteGwgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJvcmRlci00IGJvcmRlci1wcmltYXJ5IGJvcmRlci10LXRyYW5zcGFyZW50IHJvdW5kZWQtZnVsbCBhbmltYXRlLXNwaW5cIj48L2Rpdj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1ncmF5LTcwMFwiPkdlbmVyYXRpbmcgeW91ciBpdGluZXJhcnkuLi48L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIE1haW4gQ29udGVudCAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtgZmxleCAke2lzTW9iaWxlID8gJ2ZsZXgtY29sJyA6ICdmbGV4LXJvdyd9IGZsZXgtMSBvdmVyZmxvdy1oaWRkZW5gfT5cbiAgICAgICAgey8qIExlZnQgQ29sdW1uIC0gQ2hhdCBJbnRlcmZhY2UgKi99XG4gICAgICAgIDxtb3Rpb24uZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7aXNNb2JpbGUgPyAoYWN0aXZlVGFiID09PSAnY2hhdCcgPyAnZmxleC0xJyA6ICdoaWRkZW4nKSA6ICd3LTEvMyBib3JkZXItcid9IGZsZXggZmxleC1jb2xgfVxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuNSB9fVxuICAgICAgICA+XG4gICAgICAgICAgPENoYXRJbnRlcmZhY2Ugb25TZW5kTWVzc2FnZT17aGFuZGxlQ2hhdE1lc3NhZ2V9IC8+XG4gICAgICAgIDwvbW90aW9uLmRpdj5cblxuICAgICAgICB7LyogTWlkZGxlIENvbHVtbiAtIEl0aW5lcmFyeSBWaWV3ICovfVxuICAgICAgICA8bW90aW9uLmRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9e2Ake2lzTW9iaWxlID8gKGFjdGl2ZVRhYiA9PT0gJ2l0aW5lcmFyeScgPyAnZmxleC0xJyA6ICdoaWRkZW4nKSA6ICd3LTEvMyBib3JkZXItcid9IGZsZXggZmxleC1jb2xgfVxuICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCB9fVxuICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSB9fVxuICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuNSwgZGVsYXk6IDAuMSB9fVxuICAgICAgICA+XG4gICAgICAgICAgPEl0aW5lcmFyeVZpZXcgXG4gICAgICAgICAgICBkYXlzPXtpdGluZXJhcnlEYXRhPy5kYXlzIHx8IFtdfSBcbiAgICAgICAgICAgIHNlbGVjdGVkRGF5PXtzZWxlY3RlZERheX0gXG4gICAgICAgICAgICBvblNlbGVjdERheT17c2V0U2VsZWN0ZWREYXl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9tb3Rpb24uZGl2PlxuXG4gICAgICAgIHsvKiBSaWdodCBDb2x1bW4gLSBNYXAgVmlldyAqL31cbiAgICAgICAgPG1vdGlvbi5kaXYgXG4gICAgICAgICAgY2xhc3NOYW1lPXtgJHtpc01vYmlsZSA/IChhY3RpdmVUYWIgPT09ICdtYXAnID8gJ2ZsZXgtMScgOiAnaGlkZGVuJykgOiAndy0xLzMnfSBmbGV4IGZsZXgtY29sYH1cbiAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAgfX1cbiAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEgfX1cbiAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjUsIGRlbGF5OiAwLjIgfX1cbiAgICAgICAgPlxuICAgICAgICAgIDxNYXBWaWV3IFxuICAgICAgICAgICAgYWN0aXZpdGllcz17Y3VycmVudERheUFjdGl2aXRpZXN9IFxuICAgICAgICAgICAgZGF5PXtzZWxlY3RlZERheX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0gIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiSGVhZCIsIkNoYXRJbnRlcmZhY2UiLCJJdGluZXJhcnlWaWV3IiwiTWFwVmlldyIsIm1vdGlvbiIsInNlbmRDaGF0TWVzc2FnZSIsIkhvbWUiLCJzZWxlY3RlZERheSIsInNldFNlbGVjdGVkRGF5IiwiaXRpbmVyYXJ5RGF0YSIsInNldEl0aW5lcmFyeURhdGEiLCJpc01vYmlsZSIsInNldElzTW9iaWxlIiwiYWN0aXZlVGFiIiwic2V0QWN0aXZlVGFiIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwic2FtcGxlSXRpbmVyYXJ5IiwiZGF5cyIsImRheSIsImFjdGl2aXRpZXMiLCJ0aW1lIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsImljb24iLCJsb2NhdGlvbiIsImxhdCIsImxuZyIsImNoZWNrSWZNb2JpbGUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJwYXJzZUl0aW5lcmFyeUZyb21UZXh0IiwidGV4dCIsImluY2x1ZGVzIiwianNvbk1hdGNoIiwibWF0Y2giLCJqc29uRGF0YSIsIkpTT04iLCJwYXJzZSIsImRheU1hdGNoZXMiLCJmb3JFYWNoIiwiZGF5VGV4dCIsImluZGV4IiwiZGF5TnVtYmVyIiwiYWN0aXZpdHlNYXRjaGVzIiwiYWN0aXZpdHlUZXh0IiwiYWN0SW5kZXgiLCJ0aW1lTWF0Y2giLCJyZW1haW5pbmdUZXh0IiwicmVwbGFjZSIsInRyaW0iLCJwYXJ0cyIsInNwbGl0IiwidGVzdCIsIk1hdGgiLCJyYW5kb20iLCJwdXNoIiwiZXJyb3IiLCJjb25zb2xlIiwiaGFuZGxlQ2hhdE1lc3NhZ2UiLCJtZXNzYWdlIiwibG9nIiwicmVzcG9uc2UiLCJyZXNwb25zZVRleHQiLCJwYXJzZWRJdGluZXJhcnkiLCJkYWlseV9pdGluZXJhcnkiLCJkYWlseUl0aW5lcmFyeSIsIk9iamVjdCIsImtleXMiLCJkYXlOdW0iLCJkYXlJbmRleCIsImRheUFjdGl2aXRpZXMiLCJtYXAiLCJhY3Rpdml0eSIsInRvTG93ZXJDYXNlIiwicGFyc2VJbnQiLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJjdXJyZW50RGF5QWN0aXZpdGllcyIsImZpbmQiLCJkaXYiLCJjbGFzc05hbWUiLCJtZXRhIiwibmFtZSIsImNvbnRlbnQiLCJsaW5rIiwicmVsIiwiaHJlZiIsImJ1dHRvbiIsIm9uQ2xpY2siLCJwIiwiaW5pdGlhbCIsIm9wYWNpdHkiLCJhbmltYXRlIiwidHJhbnNpdGlvbiIsImR1cmF0aW9uIiwib25TZW5kTWVzc2FnZSIsImRlbGF5Iiwib25TZWxlY3REYXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/index.js\n");

/***/ }),

/***/ "./services/api.js":
/*!*************************!*\
  !*** ./services/api.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createConversation: () => (/* binding */ createConversation),\n/* harmony export */   getConversationHistory: () => (/* binding */ getConversationHistory),\n/* harmony export */   saveTrip: () => (/* binding */ saveTrip),\n/* harmony export */   sendChatMessage: () => (/* binding */ sendChatMessage)\n/* harmony export */ });\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8000\";\n/**\n * Send a chat message to the backend (now uses /analyze-input)\n * @param {string} message - User's chat message\n * @returns {Promise} - Promise with the response\n */ const sendChatMessage = async (message)=>{\n    try {\n        const response = await fetch(`${API_URL}/analyze-input`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                input: message\n            })\n        });\n        if (!response.ok) {\n            throw new Error(`Error: ${response.statusText}`);\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(\"API error:\", error);\n        throw error;\n    }\n};\n/**\n * Create a new conversation\n * @returns {Promise} - Promise with the conversation ID\n */ const createConversation = async ()=>{\n    try {\n        const response = await fetch(`${API_URL}/conversations`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Error: ${response.statusText}`);\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(\"API error:\", error);\n        throw error;\n    }\n};\n/**\n * Get conversation history\n * @param {string} conversationId - Conversation ID\n * @returns {Promise} - Promise with the conversation history\n */ const getConversationHistory = async (conversationId)=>{\n    try {\n        const response = await fetch(`${API_URL}/conversations/${conversationId}`, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!response.ok) {\n            throw new Error(`Error: ${response.statusText}`);\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(\"API error:\", error);\n        throw error;\n    }\n};\n/**\n * Save a trip\n * @param {Object} tripData - Trip data object\n * @param {string} name - Optional trip name\n * @returns {Promise} - Promise with the saved trip\n */ const saveTrip = async (tripData, name = null)=>{\n    try {\n        const response = await fetch(`${API_URL}/trips`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                trip_data: tripData,\n                name\n            })\n        });\n        if (!response.ok) {\n            throw new Error(`Error: ${response.statusText}`);\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(\"API error:\", error);\n        throw error;\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zZXJ2aWNlcy9hcGkuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLE1BQU1BLFVBQVVDLFFBQVFDLEdBQUcsQ0FBQ0MsbUJBQW1CLElBQUk7QUFFbkQ7Ozs7Q0FJQyxHQUNNLE1BQU1DLGtCQUFrQixPQUFPQztJQUNwQyxJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRVAsUUFBUSxjQUFjLENBQUMsRUFBRTtZQUN2RFEsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtZQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7Z0JBQUVDLE9BQU9SO1lBQVE7UUFDeEM7UUFFQSxJQUFJLENBQUNDLFNBQVNRLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQyxPQUFPLEVBQUVULFNBQVNVLFVBQVUsQ0FBQyxDQUFDO1FBQ2pEO1FBRUEsT0FBTyxNQUFNVixTQUFTVyxJQUFJO0lBQzVCLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsY0FBY0E7UUFDNUIsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRjs7O0NBR0MsR0FDTSxNQUFNRSxxQkFBcUI7SUFDaEMsSUFBSTtRQUNGLE1BQU1kLFdBQVcsTUFBTUMsTUFBTSxDQUFDLEVBQUVQLFFBQVEsY0FBYyxDQUFDLEVBQUU7WUFDdkRRLFFBQVE7WUFDUkMsU0FBUztnQkFDUCxnQkFBZ0I7WUFDbEI7UUFDRjtRQUVBLElBQUksQ0FBQ0gsU0FBU1EsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLE9BQU8sRUFBRVQsU0FBU1UsVUFBVSxDQUFDLENBQUM7UUFDakQ7UUFFQSxPQUFPLE1BQU1WLFNBQVNXLElBQUk7SUFDNUIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxjQUFjQTtRQUM1QixNQUFNQTtJQUNSO0FBQ0YsRUFBRTtBQUVGOzs7O0NBSUMsR0FDTSxNQUFNRyx5QkFBeUIsT0FBT0M7SUFDM0MsSUFBSTtRQUNGLE1BQU1oQixXQUFXLE1BQU1DLE1BQU0sQ0FBQyxFQUFFUCxRQUFRLGVBQWUsRUFBRXNCLGVBQWUsQ0FBQyxFQUFFO1lBQ3pFZCxRQUFRO1lBQ1JDLFNBQVM7Z0JBQ1AsZ0JBQWdCO1lBQ2xCO1FBQ0Y7UUFFQSxJQUFJLENBQUNILFNBQVNRLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU0sQ0FBQyxPQUFPLEVBQUVULFNBQVNVLFVBQVUsQ0FBQyxDQUFDO1FBQ2pEO1FBRUEsT0FBTyxNQUFNVixTQUFTVyxJQUFJO0lBQzVCLEVBQUUsT0FBT0MsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsY0FBY0E7UUFDNUIsTUFBTUE7SUFDUjtBQUNGLEVBQUU7QUFFRjs7Ozs7Q0FLQyxHQUNNLE1BQU1LLFdBQVcsT0FBT0MsVUFBVUMsT0FBTyxJQUFJO0lBQ2xELElBQUk7UUFDRixNQUFNbkIsV0FBVyxNQUFNQyxNQUFNLENBQUMsRUFBRVAsUUFBUSxNQUFNLENBQUMsRUFBRTtZQUMvQ1EsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtZQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7Z0JBQ25CYyxXQUFXRjtnQkFDWEM7WUFDRjtRQUNGO1FBRUEsSUFBSSxDQUFDbkIsU0FBU1EsRUFBRSxFQUFFO1lBQ2hCLE1BQU0sSUFBSUMsTUFBTSxDQUFDLE9BQU8sRUFBRVQsU0FBU1UsVUFBVSxDQUFDLENBQUM7UUFDakQ7UUFFQSxPQUFPLE1BQU1WLFNBQVNXLElBQUk7SUFDNUIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxjQUFjQTtRQUM1QixNQUFNQTtJQUNSO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RyaXAtaW50ZWwtYWkvLi9zZXJ2aWNlcy9hcGkuanM/ODAzYyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAwJztcblxuLyoqXG4gKiBTZW5kIGEgY2hhdCBtZXNzYWdlIHRvIHRoZSBiYWNrZW5kIChub3cgdXNlcyAvYW5hbHl6ZS1pbnB1dClcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVXNlcidzIGNoYXQgbWVzc2FnZVxuICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWlzZSB3aXRoIHRoZSByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3Qgc2VuZENoYXRNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2UpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9L2FuYWx5emUtaW5wdXRgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGlucHV0OiBtZXNzYWdlIH0pLFxuICAgIH0pO1xuXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIGVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY29udmVyc2F0aW9uXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBQcm9taXNlIHdpdGggdGhlIGNvbnZlcnNhdGlvbiBJRFxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlQ29udmVyc2F0aW9uID0gYXN5bmMgKCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vY29udmVyc2F0aW9uc2AsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8qKlxuICogR2V0IGNvbnZlcnNhdGlvbiBoaXN0b3J5XG4gKiBAcGFyYW0ge3N0cmluZ30gY29udmVyc2F0aW9uSWQgLSBDb252ZXJzYXRpb24gSURcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIFByb21pc2Ugd2l0aCB0aGUgY29udmVyc2F0aW9uIGhpc3RvcnlcbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbnZlcnNhdGlvbkhpc3RvcnkgPSBhc3luYyAoY29udmVyc2F0aW9uSWQpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9L2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JZH1gLCB7XG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8qKlxuICogU2F2ZSBhIHRyaXBcbiAqIEBwYXJhbSB7T2JqZWN0fSB0cmlwRGF0YSAtIFRyaXAgZGF0YSBvYmplY3RcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gT3B0aW9uYWwgdHJpcCBuYW1lXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBQcm9taXNlIHdpdGggdGhlIHNhdmVkIHRyaXBcbiAqL1xuZXhwb3J0IGNvbnN0IHNhdmVUcmlwID0gYXN5bmMgKHRyaXBEYXRhLCBuYW1lID0gbnVsbCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vdHJpcHNgLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHRyaXBfZGF0YTogdHJpcERhdGEsXG4gICAgICAgIG5hbWUsXG4gICAgICB9KSxcbiAgICB9KTtcblxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0FQSSBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07ICJdLCJuYW1lcyI6WyJBUElfVVJMIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX0FQSV9VUkwiLCJzZW5kQ2hhdE1lc3NhZ2UiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImlucHV0Iiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJqc29uIiwiZXJyb3IiLCJjb25zb2xlIiwiY3JlYXRlQ29udmVyc2F0aW9uIiwiZ2V0Q29udmVyc2F0aW9uSGlzdG9yeSIsImNvbnZlcnNhdGlvbklkIiwic2F2ZVRyaXAiLCJ0cmlwRGF0YSIsIm5hbWUiLCJ0cmlwX2RhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./services/api.js\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "@react-google-maps/api":
/*!*****************************************!*\
  !*** external "@react-google-maps/api" ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@react-google-maps/api");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "next/head":
/*!****************************!*\
  !*** external "next/head" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/head");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "framer-motion":
/*!********************************!*\
  !*** external "framer-motion" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("framer-motion");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc","vendor-chunks/react-icons"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F&preferredRegion=&absolutePagePath=.%2Fpages%2Findex.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();